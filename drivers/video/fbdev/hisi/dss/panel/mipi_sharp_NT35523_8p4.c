

#include "hisi_fb.h"
#if LINUX_VERSION_CODE >= KERNEL_VERSION(4,1,0)
#include <linux/hisi/hisi_adc.h>
#else
#include <linux/huawei/hisi_adc.h>
#endif
#include <huawei_platform/touthscreen/huawei_touchscreen.h>
#include <huawei_platform/log/log_jank.h>
#include <linux/hisi/hw_cmdline_parse.h>
#include <linux/i2c.h>
#include <linux/clk.h>
#include <linux/sysfs.h>
#include <linux/device.h>

#define DTS_COMP_SHARP_NT35523_8P4 "hisilicon,mipi_sharp_NT35523_8p4"

static struct hisi_fb_panel_data g_panel_data;
static int g_debug_enable = 0;

extern struct i2c_client *g_sony_client;

#define BTV_DEV_NAME "lp8556,btv_i2c_adapter"
#define LP8556_STATUS_REG 0x02
#define LP8556_STATUS_VALUE 0x30

struct btv_register_data {
	u8 reg;
	u8 value;
};
static u8	lp8556_reg_value = 0;
static u8	lp8556_reg_addr = 0;
static int	g_support_mode = 0;

extern unsigned int g_led_rg_para1;
extern unsigned int g_led_rg_para2;

static struct platform_device *m_pdev;
enum {
	CABC_OFF = 0,
	CABC_UI_MODE = 1,
	CABC_STILL_MODE = 2,
	CABC_MOVING_MODE = 3,
};
static int g_cabc_mode = CABC_UI_MODE;


enum {
    COLOR_EN_SRGB = 0,  /*when close color_enhance, need open gmp*/
    COLOR_EN_DEFAULT = 1, /*when open color_enhance, need close gmp*/
    COLOR_EN_CLOSED = 2,  /*when close all, close gmp*/
};
static int g_color_enhancement_mode = COLOR_EN_DEFAULT;

/*******************************************************************************
** Power ON Sequence(sleep mode to Normal mode)
*/
	static char reg_51[] = {
		0x51,
		0xFE,
	};

	static char reg_53[] = {
		0x53,
		0x2C,
	};

	static char reg_55[] = {
		0x55,
		0x00,
	};

	static char display_on[] = {
		0x29,
	};

	static char exit_sleep[] = {
		0x11,
	};

static	char bist_test_mode[] = {
		0xDE,
		0x01,0x30,0xF9,0x10,
};

static struct dsi_cmd_desc bist_test_mode_cmds[] = {
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US,
		sizeof(bist_test_mode), bist_test_mode},
};

static char cabc_off[] = {
	0x55,
	0x00,
};

static char cabc_set_mode_UI[] = {
	0x55,
	0x01,
};

static char cabc_set_mode_STILL[] = {
	0x55,
	0x02,
};

static char cabc_set_mode_MOVING[] = {
	0x55,
	0x02,
};

static char cabc_set_min_value[] = {
	0x5E,
	0x30,
};

static char cabc_set_ui_para0[] = {
	0xF0,
	0x55, 0xAA, 0x52, 0x08, 0x00,
};

static char cabc_set_ui_para1[] = {
	0xE6,
	0xFA, 0xF3, 0xEE, 0xE6,
};

static char cabc_set_ui_para2[] = {
	0xD5,
	0x1E, 0x1E, 0x1E, 0x1E, 0x1E,
	0x1E, 0x1E, 0x1E, 0x1E, 0x1E,
	0x00, 0x05, 0x07,
};

static char cabc_set_moving_para0[] = {
	0xF0,
	0x55, 0xAA, 0x52, 0x08, 0x00,
};

static char cabc_set_moving_para1[] = {
	0xE7,
	0xFC, 0xF9, 0xF7, 0xF4, 0xF2, 0xF0, 0xDD, 0xCB, 0xC0, 0x9B,
};

static char cabc_set_moving_para2[] = {
	0xD5,
	0x09, 0x09, 0x0A, 0x09, 0x09, 0x06, 0x08, 0x0B, 0x0A, 0x11, 0x00, 0x08, 0x09,
};

static char en_force_clk_esd_par1[] = {
	0x62, 0x01,
};
static char esd_par2[] = {
	0xFF, 0xAA, 0x55, 0xA5, 0x80,
};
static char esd_par3[] = {
	0x6F, 0x09,
};
static char esd_par4[] = {
	0xF7, 0x82,
};
static char esd_par5[] = {
	0x6F, 0x0B,
};
static char esd_par6[] = {
	0xF7, 0xE0,
};
static char esd_par7[] = {
	0xFF, 0xAA, 0x55, 0xA5, 0x00,
};

static struct dsi_cmd_desc sp_cabc_off_cmds[] = {
	{DTYPE_DCS_WRITE1, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_off), cabc_off},
};

static struct dsi_cmd_desc sp_cabc_ui_on_cmds[] = {
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_set_ui_para0), cabc_set_ui_para0},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_set_ui_para1), cabc_set_ui_para1},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_set_ui_para2), cabc_set_ui_para2},
	{DTYPE_DCS_WRITE1, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_set_mode_UI), cabc_set_mode_UI},
};

static struct dsi_cmd_desc sp_cabc_still_on_cmds[] = {
	{DTYPE_DCS_WRITE1, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_set_mode_STILL), cabc_set_mode_STILL},
};

static struct dsi_cmd_desc sp_cabc_moving_on_cmds[] = {
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_set_moving_para0), cabc_set_moving_para0},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_set_moving_para1), cabc_set_moving_para1},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_set_moving_para2), cabc_set_moving_para2},
	{DTYPE_DCS_WRITE1, 0, 10, WAIT_TYPE_US,
		sizeof(cabc_set_mode_MOVING), cabc_set_mode_MOVING},
};


/*******************************************************************************
** Power OFF Sequence(Normal to power off)
*/
static char display_off[] = {
	0x28,
};

static char enter_sleep[] = {
	0x10,
};

static struct dsi_cmd_desc lcd_init_display_on_exit_sleep[] = {
	{DTYPE_DCS_WRITE1, 0, 10, WAIT_TYPE_US, sizeof(exit_sleep), exit_sleep},
};

static struct dsi_cmd_desc lcd_init_display_on_cmds_otp[] = {
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(en_force_clk_esd_par1), en_force_clk_esd_par1},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(esd_par2), esd_par2},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(esd_par3), esd_par3},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(esd_par4), esd_par4},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(esd_par5), esd_par5},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(esd_par6), esd_par6},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(esd_par7), esd_par7},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(cabc_set_ui_para0), cabc_set_ui_para0},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(cabc_set_ui_para1), cabc_set_ui_para1},
	{DTYPE_DCS_LWRITE, 0, 10, WAIT_TYPE_US, sizeof(cabc_set_ui_para2), cabc_set_ui_para2},
	{DTYPE_DCS_WRITE1, 0, 10, WAIT_TYPE_US, sizeof(reg_51), reg_51},
	{DTYPE_DCS_WRITE1, 0, 10, WAIT_TYPE_US, sizeof(reg_53), reg_53},
	{DTYPE_DCS_WRITE1, 0, 10, WAIT_TYPE_US, sizeof(cabc_set_mode_UI), cabc_set_mode_UI},
	{DTYPE_DCS_WRITE1, 0, 10, WAIT_TYPE_US, sizeof(display_on), display_on},
};



static struct dsi_cmd_desc display_off_cmds[] = {
	{DTYPE_DCS_WRITE, 0, 10, WAIT_TYPE_US, sizeof(display_off), display_off},
};

static struct dsi_cmd_desc display_off_cmds_enter_sleep[] = {
	{DTYPE_DCS_WRITE, 0, 10, WAIT_TYPE_US, sizeof(enter_sleep), enter_sleep},
};
/*******************************************************************************
** LCD VCC
*/
#define VCC_LCDIO_NAME	"lcdio-vcc"

static struct regulator *vcc_lcdio;

static struct vcc_desc lcd_vcc_init_cmds[] = {
	/* vcc get */
	{DTYPE_VCC_GET, VCC_LCDIO_NAME, &vcc_lcdio, 0, 0, WAIT_TYPE_MS, 0},
	/* io set voltage */
	{DTYPE_VCC_SET_VOLTAGE, VCC_LCDIO_NAME, &vcc_lcdio, 1800000, 1800000, WAIT_TYPE_MS, 0},
};
static struct vcc_desc lcd_vcc_enable_cmds[] = {
	/* vcc enable */
	{DTYPE_VCC_ENABLE, VCC_LCDIO_NAME, &vcc_lcdio, 0, 0, WAIT_TYPE_MS, 3},
};

/*******************************************************************************
** LCD IOMUX
*/
static struct pinctrl_data pctrl;

static struct pinctrl_cmd_desc lcd_pinctrl_init_cmds[] = {
	{DTYPE_PINCTRL_GET, &pctrl, 0},
	{DTYPE_PINCTRL_STATE_GET, &pctrl, DTYPE_PINCTRL_STATE_DEFAULT},
	{DTYPE_PINCTRL_STATE_GET, &pctrl, DTYPE_PINCTRL_STATE_IDLE},
};

static struct pinctrl_cmd_desc lcd_pinctrl_normal_cmds[] = {
	{DTYPE_PINCTRL_SET, &pctrl, DTYPE_PINCTRL_STATE_DEFAULT},
};

static struct pinctrl_cmd_desc lcd_pinctrl_lowpower_cmds[] = {
	{DTYPE_PINCTRL_SET, &pctrl, DTYPE_PINCTRL_STATE_IDLE},
};

static struct pinctrl_cmd_desc lcd_pinctrl_finit_cmds[] = {
	{DTYPE_PINCTRL_PUT, &pctrl, 0},
};


/*******************************************************************************
** LCD GPIO
*/
#define GPIO_LCD_G_BL_ENABLE_NAME "gpio_lcd_g_bl_enable"
#define GPIO_LCD_VCC1V8_ENABLE_NAME    "gpio_lcd_vcc1v8_enable"
#define GPIO_LCD_BL_ENABLE_NAME "gpio_lcd_bl_enable"
#define GPIO_LCD_RESET_NAME "gpio_lcd_reset"
#define GPIO_LCD_P5V5_ENABLE_NAME   "gpio_lcd_p5v5_enable"
#define GPIO_LCD_N5V5_ENABLE_NAME "gpio_lcd_n5v5_enable"

static uint32_t gpio_lcd_g_bl_enable;
static uint32_t gpio_lcd_vcc1v8_enable;
static uint32_t gpio_lcd_bl_enable;
static uint32_t gpio_lcd_reset;
static uint32_t gpio_lcd_p5v5_enable;
static uint32_t gpio_lcd_n5v5_enable;

static struct gpio_desc lcd_gpio_request_cmds[] = {
	/* g_bl_enable */
	{DTYPE_GPIO_REQUEST, WAIT_TYPE_MS, 0,
		GPIO_LCD_G_BL_ENABLE_NAME, &gpio_lcd_g_bl_enable, 0},
	/* VDDIO_1.8V */
	{DTYPE_GPIO_REQUEST, WAIT_TYPE_MS, 0,
		GPIO_LCD_VCC1V8_ENABLE_NAME, &gpio_lcd_vcc1v8_enable, 0},
	/* VSP_5.5V */
	{DTYPE_GPIO_REQUEST, WAIT_TYPE_MS, 0,
		GPIO_LCD_P5V5_ENABLE_NAME, &gpio_lcd_p5v5_enable, 0},
	/* VSN_-5.8V */
	{DTYPE_GPIO_REQUEST, WAIT_TYPE_MS, 0,
		GPIO_LCD_N5V5_ENABLE_NAME, &gpio_lcd_n5v5_enable, 0},
	/* reset */
	{DTYPE_GPIO_REQUEST, WAIT_TYPE_MS, 0,
		GPIO_LCD_RESET_NAME, &gpio_lcd_reset, 0},
	/* backlight enable */
	{DTYPE_GPIO_REQUEST, WAIT_TYPE_MS, 0,
		GPIO_LCD_BL_ENABLE_NAME, &gpio_lcd_bl_enable, 0},
};

static struct gpio_desc lcd_gpio_normal_cmds[] = {
	/* g_bl_enable */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 1,
		GPIO_LCD_G_BL_ENABLE_NAME, &gpio_lcd_g_bl_enable, 1},
	/* VDDIO_1.8V */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 10,
		GPIO_LCD_VCC1V8_ENABLE_NAME, &gpio_lcd_vcc1v8_enable, 1},
	/* VSP_5.5V */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 10,
		GPIO_LCD_P5V5_ENABLE_NAME, &gpio_lcd_p5v5_enable, 1},
	/* VSN_-5.5V */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 20,
		GPIO_LCD_N5V5_ENABLE_NAME, &gpio_lcd_n5v5_enable, 1},
	/* reset */
	//{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 1,
	//	GPIO_LCD_RESET_NAME, &gpio_lcd_reset, 1},
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 5,
		GPIO_LCD_RESET_NAME, &gpio_lcd_reset, 0},
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 30,
		GPIO_LCD_RESET_NAME, &gpio_lcd_reset, 1},
	/* backlight enable */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 1,
		GPIO_LCD_BL_ENABLE_NAME, &gpio_lcd_bl_enable, 1},
};

static struct gpio_desc lcd_gpio_free_cmds[] = {
	/* backlight enable */
	{DTYPE_GPIO_FREE, WAIT_TYPE_US, 0,
		GPIO_LCD_BL_ENABLE_NAME, &gpio_lcd_bl_enable, 0},
	/* AVEE_-5.5V */
	{DTYPE_GPIO_FREE, WAIT_TYPE_US, 0,
		GPIO_LCD_N5V5_ENABLE_NAME, &gpio_lcd_n5v5_enable, 0},
	/* AVDD_5.5V */
	{DTYPE_GPIO_FREE, WAIT_TYPE_US, 0,
		GPIO_LCD_P5V5_ENABLE_NAME, &gpio_lcd_p5v5_enable, 0},
	/* reset */
	{DTYPE_GPIO_FREE, WAIT_TYPE_US, 0,
		GPIO_LCD_RESET_NAME, &gpio_lcd_reset, 0},
	/* VCC_1.8V */
	{DTYPE_GPIO_FREE, WAIT_TYPE_US, 0,
		GPIO_LCD_VCC1V8_ENABLE_NAME, &gpio_lcd_vcc1v8_enable, 0},
	/* g_bl_enable */
	{DTYPE_GPIO_FREE, WAIT_TYPE_MS, 0,
		GPIO_LCD_G_BL_ENABLE_NAME, &gpio_lcd_g_bl_enable, 0},
};

static struct gpio_desc lcd_gpio_lowpower_cmds[] = {
	/* backlight enable */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 5,
		GPIO_LCD_BL_ENABLE_NAME, &gpio_lcd_bl_enable, 0},
	/* reset */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 10,
		GPIO_LCD_RESET_NAME, &gpio_lcd_reset, 0},
	/* AVEE_-5.5V */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 10,
		GPIO_LCD_N5V5_ENABLE_NAME, &gpio_lcd_n5v5_enable, 0},
	/* AVDD_5.5V*/
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 10,
		GPIO_LCD_P5V5_ENABLE_NAME, &gpio_lcd_p5v5_enable, 0},
	/* VCC_1.8V */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 1,
		GPIO_LCD_VCC1V8_ENABLE_NAME, &gpio_lcd_vcc1v8_enable, 0},
	/* g_bl_enable */
	{DTYPE_GPIO_OUTPUT, WAIT_TYPE_MS, 1,
		GPIO_LCD_G_BL_ENABLE_NAME, &gpio_lcd_g_bl_enable, 0},

	/* backlight enable input */
	{DTYPE_GPIO_INPUT, WAIT_TYPE_US, 0,
		GPIO_LCD_BL_ENABLE_NAME, &gpio_lcd_bl_enable, 0},
	/* AVEE_-5.8V input */
	{DTYPE_GPIO_INPUT, WAIT_TYPE_MS, 0,
		GPIO_LCD_N5V5_ENABLE_NAME, &gpio_lcd_n5v5_enable, 0},
	/* AVDD_5.8V input */
	{DTYPE_GPIO_INPUT, WAIT_TYPE_MS, 0,
		GPIO_LCD_P5V5_ENABLE_NAME, &gpio_lcd_p5v5_enable, 0},
	/* reset input */
	{DTYPE_GPIO_INPUT, WAIT_TYPE_US, 0,
		GPIO_LCD_RESET_NAME, &gpio_lcd_reset, 0},
	/* VCC_1.8V */
	{DTYPE_GPIO_INPUT, WAIT_TYPE_MS, 0,
		GPIO_LCD_VCC1V8_ENABLE_NAME, &gpio_lcd_vcc1v8_enable, 0},
	/* g_bl_enable */
	{DTYPE_GPIO_INPUT, WAIT_TYPE_MS, 0,
		GPIO_LCD_G_BL_ENABLE_NAME, &gpio_lcd_g_bl_enable, 0},
};

/*******************************************************************************
**
*/

/*******************************************************************************
** ACM
*/
static u32 acm_lut_hue_table[] = {
	0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0006, 0x0007, 0x0008, 0x0009, 0x000a, 0x000b, 0x000c, 0x000e, 0x000f, 0x0010, 0x0011,
	0x0012, 0x0013, 0x0014, 0x0016, 0x0017, 0x0018, 0x0019, 0x001a, 0x001c, 0x001d, 0x001e, 0x001f, 0x0020, 0x0021, 0x0023, 0x0024,
	0x0025, 0x0026, 0x0027, 0x0028, 0x0029, 0x002a, 0x002b, 0x002c, 0x002e, 0x002f, 0x0030, 0x0031, 0x0032, 0x0033, 0x0034, 0x0035,
	0x0036, 0x0037, 0x0038, 0x0039, 0x003a, 0x003b, 0x003c, 0x003d, 0x003e, 0x0040, 0x0041, 0x0042, 0x0043, 0x0044, 0x0045, 0x0046,
	0x0047, 0x0048, 0x0049, 0x004a, 0x004b, 0x004c, 0x004d, 0x004e, 0x004f, 0x0050, 0x0051, 0x0052, 0x0053, 0x0054, 0x0055, 0x0056,
	0x0057, 0x0058, 0x0059, 0x005a, 0x005b, 0x005c, 0x005d, 0x005e, 0x005e, 0x005f, 0x0060, 0x0061, 0x0062, 0x0063, 0x0064, 0x0065,
	0x0066, 0x0067, 0x0068, 0x0069, 0x006a, 0x006b, 0x006c, 0x006d, 0x006e, 0x006e, 0x006f, 0x0070, 0x0071, 0x0072, 0x0073, 0x0074,
	0x0075, 0x0076, 0x0077, 0x0078, 0x0078, 0x0079, 0x007a, 0x007b, 0x007c, 0x007d, 0x007e, 0x007f, 0x0080, 0x0080, 0x0081, 0x0082,
	0x0083, 0x0084, 0x0085, 0x0086, 0x0087, 0x0088, 0x0089, 0x008a, 0x008a, 0x008b, 0x008c, 0x008d, 0x008e, 0x008f, 0x0090, 0x0091,
	0x0092, 0x0093, 0x0094, 0x0095, 0x0096, 0x0097, 0x0098, 0x0099, 0x009a, 0x009a, 0x009b, 0x009c, 0x009d, 0x009e, 0x009f, 0x00a0,
	0x00a1, 0x00a2, 0x00a3, 0x00a4, 0x00a5, 0x00a6, 0x00a7, 0x00a8, 0x00aa, 0x00ab, 0x00ac, 0x00ad, 0x00ae, 0x00af, 0x00b0, 0x00b1,
	0x00b2, 0x00b3, 0x00b4, 0x00b5, 0x00b6, 0x00b8, 0x00b9, 0x00ba, 0x00bb, 0x00bc, 0x00bd, 0x00be, 0x00c0, 0x00c1, 0x00c2, 0x00c3,
	0x00c4, 0x00c5, 0x00c6, 0x00c8, 0x00c9, 0x00ca, 0x00cb, 0x00cc, 0x00ce, 0x00cf, 0x00d0, 0x00d1, 0x00d2, 0x00d3, 0x00d5, 0x00d6,
	0x00d7, 0x00d8, 0x00d9, 0x00da, 0x00db, 0x00dc, 0x00dd, 0x00de, 0x00e0, 0x00e1, 0x00e2, 0x00e3, 0x00e4, 0x00e5, 0x00e6, 0x00e7,
	0x00e8, 0x00e9, 0x00ea, 0x00eb, 0x00ec, 0x00ed, 0x00ee, 0x00ef, 0x00f0, 0x00f2, 0x00f3, 0x00f4, 0x00f5, 0x00f6, 0x00f7, 0x00f8,
	0x00f9, 0x00fa, 0x00fb, 0x00fc, 0x00fd, 0x00fe, 0x00ff, 0x0100, 0x0102, 0x0103, 0x0104, 0x0105, 0x0106, 0x0107, 0x0108, 0x0109,
	0x010a, 0x010b, 0x010c, 0x010d, 0x010e, 0x010f, 0x0110, 0x0111, 0x0112, 0x0112, 0x0113, 0x0114, 0x0115, 0x0116, 0x0117, 0x0118,
	0x0119, 0x011a, 0x011b, 0x011b, 0x011c, 0x011d, 0x011e, 0x011f, 0x0120, 0x0120, 0x0121, 0x0122, 0x0123, 0x0124, 0x0124, 0x0125,
	0x0126, 0x0127, 0x0127, 0x0128, 0x0129, 0x0129, 0x012a, 0x012b, 0x012c, 0x012c, 0x012d, 0x012e, 0x012e, 0x012f, 0x0130, 0x0130,
	0x0131, 0x0132, 0x0132, 0x0133, 0x0134, 0x0135, 0x0136, 0x0136, 0x0137, 0x0138, 0x0138, 0x0139, 0x013a, 0x013b, 0x013c, 0x013c,
	0x013d, 0x013e, 0x013f, 0x0140, 0x0140, 0x0141, 0x0142, 0x0143, 0x0144, 0x0145, 0x0146, 0x0147, 0x0148, 0x0148, 0x0149, 0x014a,
	0x014b, 0x014c, 0x014d, 0x014e, 0x014f, 0x0150, 0x0151, 0x0152, 0x0153, 0x0154, 0x0155, 0x0156, 0x0157, 0x0158, 0x0159, 0x015a,
	0x015b, 0x015c, 0x015d, 0x015e, 0x015f, 0x0160, 0x0161, 0x0162, 0x0164, 0x0165, 0x0166, 0x0167, 0x0168, 0x0169, 0x016a, 0x016b,
	0x016c, 0x016d, 0x016e, 0x016f, 0x0170, 0x0171, 0x0172, 0x0173, 0x0174, 0x0175, 0x0176, 0x0177, 0x0178, 0x0179, 0x017a, 0x017b,
	0x017c, 0x017d, 0x017e, 0x017f, 0x0180, 0x0181, 0x0182, 0x0183, 0x0184, 0x0184, 0x0185, 0x0186, 0x0187, 0x0188, 0x0189, 0x018a,
	0x018b, 0x018c, 0x018d, 0x018e, 0x018f, 0x0190, 0x0191, 0x0192, 0x0193, 0x0194, 0x0195, 0x0196, 0x0197, 0x0198, 0x0199, 0x019a,
	0x019b, 0x019c, 0x019d, 0x019e, 0x019f, 0x01a0, 0x01a1, 0x01a2, 0x01a3, 0x01a4, 0x01a5, 0x01a6, 0x01a7, 0x01a8, 0x01a9, 0x01aa,
	0x01ab, 0x01ac, 0x01ad, 0x01ae, 0x01af, 0x01b0, 0x01b1, 0x01b2, 0x01b3, 0x01b4, 0x01b5, 0x01b6, 0x01b7, 0x01b8, 0x01b9, 0x01ba,
	0x01bb, 0x01bc, 0x01bd, 0x01be, 0x01bf, 0x01c0, 0x01c1, 0x01c2, 0x01c3, 0x01c4, 0x01c5, 0x01c6, 0x01c7, 0x01c8, 0x01c9, 0x01ca,
	0x01cb, 0x01cc, 0x01cd, 0x01ce, 0x01cf, 0x01d0, 0x01d1, 0x01d2, 0x01d3, 0x01d4, 0x01d5, 0x01d6, 0x01d7, 0x01d8, 0x01d9, 0x01da,
	0x01db, 0x01dc, 0x01dd, 0x01de, 0x01df, 0x01e0, 0x01e1, 0x01e2, 0x01e4, 0x01e5, 0x01e6, 0x01e7, 0x01e8, 0x01e9, 0x01ea, 0x01eb,
	0x01ec, 0x01ed, 0x01ee, 0x01ef, 0x01f0, 0x01f1, 0x01f2, 0x01f3, 0x01f4, 0x01f6, 0x01f7, 0x01f8, 0x01f9, 0x01fa, 0x01fb, 0x01fc,
	0x01fd, 0x01fe, 0x01ff, 0x0201, 0x0202, 0x0203, 0x0204, 0x0205, 0x0206, 0x0208, 0x0209, 0x020a, 0x020b, 0x020c, 0x020e, 0x020f,
	0x0210, 0x0211, 0x0212, 0x0213, 0x0214, 0x0215, 0x0216, 0x0217, 0x0218, 0x0219, 0x021a, 0x021b, 0x021c, 0x021d, 0x021e, 0x021f,
	0x0220, 0x0221, 0x0222, 0x0223, 0x0224, 0x0225, 0x0226, 0x0227, 0x0228, 0x0229, 0x022a, 0x022b, 0x022c, 0x022d, 0x022e, 0x022f,
	0x0230, 0x0231, 0x0232, 0x0233, 0x0234, 0x0235, 0x0236, 0x0237, 0x0238, 0x0239, 0x023a, 0x023b, 0x023c, 0x023d, 0x023e, 0x023f,
	0x0240, 0x0241, 0x0242, 0x0243, 0x0244, 0x0245, 0x0246, 0x0247, 0x0248, 0x0249, 0x024a, 0x024b, 0x024c, 0x024d, 0x024e, 0x024f,
	0x0250, 0x0251, 0x0252, 0x0253, 0x0254, 0x0255, 0x0256, 0x0257, 0x0258, 0x0259, 0x025a, 0x025b, 0x025c, 0x025d, 0x025e, 0x025f,
	0x0260, 0x0261, 0x0262, 0x0263, 0x0264, 0x0265, 0x0266, 0x0267, 0x0268, 0x0269, 0x026a, 0x026b, 0x026c, 0x026d, 0x026e, 0x026f,
	0x0270, 0x0271, 0x0272, 0x0273, 0x0274, 0x0275, 0x0276, 0x0277, 0x0278, 0x0279, 0x027a, 0x027b, 0x027c, 0x027d, 0x027e, 0x027f,
	0x0280, 0x0281, 0x0282, 0x0283, 0x0284, 0x0285, 0x0286, 0x0287, 0x0288, 0x0289, 0x028a, 0x028b, 0x028c, 0x028d, 0x028e, 0x028f,
	0x0290, 0x0291, 0x0292, 0x0293, 0x0294, 0x0295, 0x0296, 0x0297, 0x0298, 0x0299, 0x029a, 0x029b, 0x029c, 0x029d, 0x029e, 0x029f,
	0x02a0, 0x02a1, 0x02a2, 0x02a3, 0x02a4, 0x02a5, 0x02a6, 0x02a7, 0x02a8, 0x02a9, 0x02aa, 0x02ab, 0x02ac, 0x02ad, 0x02ae, 0x02af,
	0x02b0, 0x02b1, 0x02b2, 0x02b3, 0x02b4, 0x02b5, 0x02b6, 0x02b7, 0x02b8, 0x02b9, 0x02ba, 0x02bb, 0x02bc, 0x02bd, 0x02be, 0x02bf,
	0x02c0, 0x02c1, 0x02c2, 0x02c3, 0x02c4, 0x02c5, 0x02c6, 0x02c7, 0x02c8, 0x02c9, 0x02ca, 0x02cb, 0x02cc, 0x02cd, 0x02ce, 0x02cf,
	0x02d0, 0x02d1, 0x02d2, 0x02d3, 0x02d4, 0x02d5, 0x02d6, 0x02d7, 0x02d8, 0x02d9, 0x02da, 0x02db, 0x02dc, 0x02dd, 0x02de, 0x02df,
	0x02e0, 0x02e1, 0x02e2, 0x02e3, 0x02e4, 0x02e5, 0x02e6, 0x02e7, 0x02e8, 0x02e9, 0x02ea, 0x02eb, 0x02ec, 0x02ed, 0x02ee, 0x02ef,
	0x02f0, 0x02f1, 0x02f2, 0x02f3, 0x02f4, 0x02f5, 0x02f6, 0x02f7, 0x02f8, 0x02f9, 0x02fa, 0x02fb, 0x02fc, 0x02fd, 0x02fe, 0x02ff,
	0x0300, 0x0301, 0x0302, 0x0303, 0x0304, 0x0305, 0x0306, 0x0307, 0x0308, 0x0309, 0x030a, 0x030b, 0x030c, 0x030d, 0x030e, 0x030f,
	0x0310, 0x0311, 0x0312, 0x0313, 0x0314, 0x0315, 0x0316, 0x0317, 0x0318, 0x0319, 0x031a, 0x031b, 0x031c, 0x031d, 0x031e, 0x031f,
	0x0320, 0x0321, 0x0322, 0x0323, 0x0324, 0x0325, 0x0326, 0x0327, 0x0328, 0x0329, 0x032a, 0x032b, 0x032c, 0x032d, 0x032e, 0x032f,
	0x0330, 0x0331, 0x0332, 0x0333, 0x0334, 0x0335, 0x0336, 0x0337, 0x0338, 0x0339, 0x033a, 0x033b, 0x033c, 0x033d, 0x033e, 0x033f,
	0x0340, 0x0341, 0x0342, 0x0343, 0x0344, 0x0345, 0x0346, 0x0347, 0x0348, 0x0349, 0x034a, 0x034b, 0x034c, 0x034d, 0x034e, 0x034f,
	0x0350, 0x0351, 0x0352, 0x0353, 0x0354, 0x0355, 0x0356, 0x0357, 0x0358, 0x0359, 0x035a, 0x035b, 0x035c, 0x035d, 0x035e, 0x035f,
	0x0360, 0x0361, 0x0362, 0x0363, 0x0364, 0x0365, 0x0366, 0x0367, 0x0368, 0x0369, 0x036a, 0x036b, 0x036c, 0x036d, 0x036e, 0x036f,
	0x0370, 0x0371, 0x0372, 0x0373, 0x0374, 0x0375, 0x0376, 0x0377, 0x0378, 0x0379, 0x037a, 0x037b, 0x037c, 0x037d, 0x037e, 0x037f,
	0x0380, 0x0381, 0x0382, 0x0383, 0x0384, 0x0385, 0x0386, 0x0387, 0x0388, 0x0389, 0x038a, 0x038b, 0x038c, 0x038d, 0x038e, 0x038f,
	0x0390, 0x0391, 0x0392, 0x0393, 0x0394, 0x0395, 0x0396, 0x0397, 0x0398, 0x0399, 0x039a, 0x039b, 0x039c, 0x039d, 0x039e, 0x039f,
	0x03a0, 0x03a1, 0x03a2, 0x03a3, 0x03a4, 0x03a5, 0x03a6, 0x03a7, 0x03a8, 0x03a9, 0x03aa, 0x03ab, 0x03ac, 0x03ad, 0x03ae, 0x03af,
	0x03b0, 0x03b1, 0x03b2, 0x03b3, 0x03b4, 0x03b5, 0x03b6, 0x03b7, 0x03b8, 0x03b9, 0x03ba, 0x03bb, 0x03bc, 0x03bd, 0x03be, 0x03bf,
	0x03c0, 0x03c1, 0x03c2, 0x03c4, 0x03c5, 0x03c6, 0x03c8, 0x03c9, 0x03ca, 0x03cb, 0x03cc, 0x03ce, 0x03cf, 0x03d0, 0x03d2, 0x03d3,
	0x03d4, 0x03d5, 0x03d6, 0x03d7, 0x03d8, 0x03d9, 0x03da, 0x03db, 0x03dc, 0x03de, 0x03df, 0x03e0, 0x03e1, 0x03e2, 0x03e3, 0x03e4,
	0x03e5, 0x03e6, 0x03e7, 0x03e8, 0x03e9, 0x03ea, 0x03eb, 0x03ec, 0x03ec, 0x03ed, 0x03ee, 0x03ef, 0x03f0, 0x03f1, 0x03f2, 0x03f3,
	0x03f4, 0x03f5, 0x03f6, 0x03f6, 0x03f7, 0x03f8, 0x03f8, 0x03f9, 0x03fa, 0x03fb, 0x03fc, 0x03fc, 0x03fd, 0x03fe, 0x03fe, 0x03ff,
};


static u32 acm_lut_sata_table[] = {
	0x0001, 0x0011, 0x0020, 0x0030, 0x0040, 0x004d, 0x005a, 0x0067, 0x0074, 0x007c, 0x0083, 0x008a, 0x0092, 0x0093, 0x0094, 0x0096,
	0x0097, 0x0098, 0x0098, 0x0098, 0x0099, 0x0099, 0x0099, 0x0099, 0x0099, 0x0098, 0x0097, 0x0096, 0x0095, 0x008d, 0x0084, 0x007c,
	0x0074, 0x005a, 0x0040, 0x0026, 0x000c, 0x000c, 0x000c, 0x000c, 0x000c, 0x0016, 0x0020, 0x0029, 0x0033, 0x0038, 0x003e, 0x0044,
	0x0049, 0x004a, 0x004a, 0x004a, 0x004b, 0x004f, 0x0052, 0x0056, 0x005a, 0x005b, 0x005c, 0x005d, 0x005e, 0x005f, 0x0060, 0x0062,
	0x0063, 0x0064, 0x0065, 0x0066, 0x0067, 0x0074, 0x0081, 0x008e, 0x009b, 0x00a0, 0x00a4, 0x00a8, 0x00ad, 0x00ae, 0x00ae, 0x00ae,
	0x00af, 0x00b0, 0x00b0, 0x00b0, 0x00b1, 0x00b1, 0x00b1, 0x00b1, 0x00b1, 0x00af, 0x00ac, 0x00aa, 0x00a8, 0x00a0, 0x0099, 0x0092,
	0x008a, 0x0082, 0x007a, 0x0073, 0x006b, 0x005d, 0x004f, 0x0041, 0x0033, 0x0030, 0x002c, 0x0029, 0x0026, 0x0026, 0x0026, 0x0026,
	0x0026, 0x0035, 0x0044, 0x0052, 0x0061, 0x0068, 0x006e, 0x0074, 0x007b, 0x007e, 0x0082, 0x0085, 0x0088, 0x008a, 0x008d, 0x0090,
	0x0092, 0x0094, 0x0096, 0x0097, 0x0099, 0x009a, 0x009a, 0x009a, 0x009b, 0x009b, 0x009b, 0x009b, 0x009b, 0x009a, 0x0099, 0x0098,
	0x0097, 0x0095, 0x0094, 0x0092, 0x0090, 0x0090, 0x0091, 0x0092, 0x0092, 0x0094, 0x0096, 0x0097, 0x0099, 0x009b, 0x009e, 0x00a0,
	0x00a2, 0x00a5, 0x00a8, 0x00aa, 0x00ad, 0x00ae, 0x00af, 0x00b0, 0x00b1, 0x00b2, 0x00b4, 0x00b6, 0x00b7, 0x00b8, 0x00ba, 0x00bb,
	0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc, 0x00bc,
	0x00bc, 0x00bc, 0x00bd, 0x00be, 0x00be, 0x00c0, 0x00c1, 0x00c2, 0x00c4, 0x00c6, 0x00c8, 0x00c9, 0x00cb, 0x00ce, 0x00d0, 0x00d3,
	0x00d6, 0x00d9, 0x00dc, 0x00de, 0x00e1, 0x00e1, 0x00e1, 0x00e1, 0x00e1, 0x00e3, 0x00e5, 0x00e7, 0x00e9, 0x00eb, 0x00ec, 0x00ee,
	0x00f0, 0x00f0, 0x00ef, 0x00ee, 0x00ee, 0x00ed, 0x00ec, 0x00ea, 0x00e9, 0x00e8, 0x00e8, 0x00e8, 0x00e7, 0x00e6, 0x00e4, 0x00e2,
	0x00e1, 0x00dc, 0x00d7, 0x00d2, 0x00cd, 0x00c4, 0x00ba, 0x00b1, 0x00a8, 0x009c, 0x0090, 0x0084, 0x0078, 0x005a, 0x003c, 0x001f,
};

static u32 acm_lut_satr_table[] = {
	0x0000, 0x0000, 0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x00ff, 0x00ff, 0x00ff, 0x00fe, 0x00fe, 0x00fd, 0x00fd, 0x00fd, 0x00fc, 0x00fc, 0x00fc, 0x00fb, 0x00fb, 0x00fb, 0x00fb,
	0x00fb, 0x00fb, 0x00fb, 0x00fb, 0x00fb, 0x00fb, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc,
	0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fb, 0x00fb, 0x00fb, 0x00fb, 0x00fb, 0x00fa, 0x00f8, 0x00f5, 0x00f4, 0x00f3,
	0x0000, 0x0000, 0x0001, 0x0002, 0x0003, 0x0003, 0x0003, 0x0003, 0x0002, 0x0002, 0x0002, 0x0001, 0x0001, 0x0000, 0x0000, 0x0000,
	0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x0000, 0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0007, 0x0008, 0x0008,
	0x0008, 0x0008, 0x0008, 0x0007, 0x0007, 0x0007, 0x0006, 0x0006, 0x0005, 0x0005, 0x0004, 0x0004, 0x0003, 0x0003, 0x0003, 0x0003,
	0x0003, 0x0003, 0x0003, 0x0002, 0x0002, 0x0002, 0x0002, 0x0002, 0x0002, 0x0002, 0x0002, 0x0001, 0x0001, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0001, 0x0002, 0x0003, 0x0005, 0x0005, 0x0006, 0x0006, 0x0006, 0x0007, 0x0007, 0x0007, 0x0008, 0x0008, 0x0009,
	0x0009, 0x000a, 0x000a, 0x000b, 0x000d, 0x000e, 0x000f, 0x0010, 0x0011, 0x0012, 0x0013, 0x0014, 0x0014, 0x0015, 0x0015, 0x0015,
	0x0015, 0x0015, 0x0015, 0x0015, 0x0015, 0x0015, 0x0016, 0x0016, 0x0016, 0x0016, 0x0016, 0x0016, 0x0016, 0x0016, 0x0016, 0x0016,
	0x0015, 0x0015, 0x0015, 0x0014, 0x0014, 0x0013, 0x0012, 0x0012, 0x0011, 0x0010, 0x000f, 0x000b, 0x0007, 0x0003, 0x0001, 0x0000,
	0x0000, 0x0000, 0x0002, 0x0004, 0x0006, 0x0009, 0x0009, 0x0009, 0x0009, 0x0009, 0x0009, 0x0009, 0x000a, 0x000a, 0x000a, 0x000a,
	0x000a, 0x000a, 0x000a, 0x000b, 0x000c, 0x000d, 0x000e, 0x000f, 0x000f, 0x0010, 0x0011, 0x0011, 0x0012, 0x0012, 0x0012, 0x0012,
	0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012, 0x0012,
	0x0012, 0x0012, 0x0011, 0x0011, 0x0011, 0x0011, 0x0010, 0x0010, 0x0010, 0x000f, 0x000f, 0x000c, 0x0008, 0x0004, 0x0001, 0x0000,
	0x0000, 0x0000, 0x0001, 0x0001, 0x0002, 0x0003, 0x0003, 0x0003, 0x0003, 0x0003, 0x0003, 0x0003, 0x0004, 0x0004, 0x0004, 0x0004,
	0x0004, 0x0004, 0x0004, 0x0005, 0x0006, 0x0006, 0x0007, 0x0008, 0x0009, 0x000a, 0x000a, 0x000b, 0x000b, 0x000c, 0x000c, 0x000c,
	0x000c, 0x000c, 0x000c, 0x000c, 0x000d, 0x000d, 0x000d, 0x000d, 0x000e, 0x000e, 0x000e, 0x000e, 0x000e, 0x000e, 0x000e, 0x000e,
	0x000e, 0x000d, 0x000d, 0x000d, 0x000d, 0x000c, 0x000c, 0x000b, 0x000b, 0x000b, 0x000a, 0x0008, 0x0005, 0x0002, 0x0001, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0002, 0x0002, 0x0002,
	0x0002, 0x0002, 0x0002, 0x0003, 0x0003, 0x0004, 0x0005, 0x0006, 0x0008, 0x0009, 0x000a, 0x000a, 0x000b, 0x000c, 0x000c, 0x000c,
	0x000c, 0x000c, 0x000c, 0x000c, 0x000d, 0x000d, 0x000d, 0x000d, 0x000e, 0x000e, 0x000e, 0x000e, 0x000e, 0x000e, 0x000e, 0x000e,
	0x000d, 0x000d, 0x000d, 0x000c, 0x000c, 0x000b, 0x000b, 0x000a, 0x0009, 0x0009, 0x0008, 0x0006, 0x0003, 0x0002, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0002, 0x0002, 0x0002,
	0x0002, 0x0002, 0x0002, 0x0003, 0x0003, 0x0004, 0x0005, 0x0006, 0x0008, 0x0009, 0x000a, 0x000a, 0x000b, 0x000c, 0x000c, 0x000c,
	0x000c, 0x000c, 0x000c, 0x000c, 0x000c, 0x000c, 0x000c, 0x000c, 0x000c, 0x000b, 0x000b, 0x000b, 0x000b, 0x000b, 0x000b, 0x000b,
	0x000a, 0x000a, 0x000a, 0x000a, 0x000a, 0x0009, 0x0009, 0x0009, 0x0009, 0x0008, 0x0008, 0x0006, 0x0004, 0x0002, 0x0000, 0x0000,
	0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0001, 0x0002, 0x0002, 0x0002,
	0x0002, 0x0002, 0x0002, 0x0003, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0007, 0x0008, 0x0009, 0x0009, 0x000a, 0x000a, 0x000a,
	0x000a, 0x000a, 0x000a, 0x0009, 0x0009, 0x0009, 0x0008, 0x0008, 0x0008, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007, 0x0007,
	0x0007, 0x0007, 0x0007, 0x0008, 0x0008, 0x0008, 0x0008, 0x0008, 0x0008, 0x0008, 0x0008, 0x0007, 0x0005, 0x0003, 0x0001, 0x0000,
};



static u32 cinema_acm_lut_hue_table[] = {
	0x0000, 0x0001, 0x0002, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008, 0x000a, 0x000b, 0x000c, 0x000d, 0x000e, 0x000f, 0x0011, 0x0012,
	0x0013, 0x0014, 0x0015, 0x0017, 0x0018, 0x0019, 0x001a, 0x001b, 0x001c, 0x001d, 0x001e, 0x0020, 0x0021, 0x0022, 0x0023, 0x0024,
	0x0025, 0x0026, 0x0027, 0x0028, 0x0029, 0x002a, 0x002c, 0x002d, 0x002e, 0x002f, 0x0030, 0x0031, 0x0032, 0x0033, 0x0034, 0x0035,
	0x0036, 0x0038, 0x0039, 0x003a, 0x003b, 0x003c, 0x003d, 0x003e, 0x003f, 0x0040, 0x0041, 0x0043, 0x0044, 0x0045, 0x0046, 0x0047,
	0x0048, 0x0049, 0x004a, 0x004b, 0x004c, 0x004d, 0x004e, 0x004f, 0x0050, 0x0051, 0x0052, 0x0053, 0x0054, 0x0055, 0x0056, 0x0057,
	0x0058, 0x0059, 0x005a, 0x005b, 0x005c, 0x005d, 0x005e, 0x005f, 0x0060, 0x0061, 0x0062, 0x0062, 0x0063, 0x0064, 0x0065, 0x0066,
	0x0067, 0x0068, 0x0069, 0x006a, 0x006b, 0x006c, 0x006c, 0x006d, 0x006e, 0x006f, 0x0070, 0x0071, 0x0072, 0x0073, 0x0074, 0x0075,
	0x0076, 0x0076, 0x0077, 0x0078, 0x0079, 0x007a, 0x007b, 0x007c, 0x007d, 0x007e, 0x007f, 0x007f, 0x0080, 0x0081, 0x0082, 0x0083,
	0x0084, 0x0085, 0x0086, 0x0087, 0x0088, 0x0089, 0x0089, 0x008a, 0x008b, 0x008c, 0x008d, 0x008e, 0x008f, 0x0090, 0x0091, 0x0092,
	0x0092, 0x0093, 0x0094, 0x0095, 0x0096, 0x0097, 0x0098, 0x0099, 0x009a, 0x009b, 0x009c, 0x009c, 0x009d, 0x009e, 0x009f, 0x00a0,
	0x00a1, 0x00a2, 0x00a3, 0x00a4, 0x00a5, 0x00a6, 0x00a6, 0x00a7, 0x00a8, 0x00a9, 0x00aa, 0x00ab, 0x00ac, 0x00ad, 0x00ae, 0x00af,
	0x00b0, 0x00b0, 0x00b1, 0x00b2, 0x00b3, 0x00b4, 0x00b5, 0x00b6, 0x00b7, 0x00b8, 0x00b9, 0x00b9, 0x00ba, 0x00bb, 0x00bc, 0x00bd,
	0x00be, 0x00bf, 0x00c0, 0x00c1, 0x00c2, 0x00c3, 0x00c3, 0x00c4, 0x00c5, 0x00c6, 0x00c7, 0x00c8, 0x00c9, 0x00ca, 0x00cb, 0x00cc,
	0x00cc, 0x00cd, 0x00ce, 0x00cf, 0x00d0, 0x00d1, 0x00d2, 0x00d3, 0x00d4, 0x00d5, 0x00d6, 0x00d6, 0x00d7, 0x00d8, 0x00d9, 0x00da,
	0x00db, 0x00dc, 0x00dd, 0x00de, 0x00df, 0x00e0, 0x00e0, 0x00e1, 0x00e2, 0x00e3, 0x00e4, 0x00e5, 0x00e6, 0x00e7, 0x00e8, 0x00e9,
	0x00ea, 0x00ea, 0x00eb, 0x00ec, 0x00ed, 0x00ee, 0x00ef, 0x00f0, 0x00f1, 0x00f2, 0x00f3, 0x00f3, 0x00f4, 0x00f5, 0x00f6, 0x00f7,
	0x00f8, 0x00f9, 0x00fa, 0x00fb, 0x00fc, 0x00fd, 0x00fe, 0x00ff, 0x0100, 0x0101, 0x0102, 0x0103, 0x0104, 0x0105, 0x0106, 0x0107,
	0x0108, 0x0108, 0x0109, 0x010a, 0x010b, 0x010c, 0x010d, 0x010e, 0x010f, 0x0110, 0x0111, 0x0112, 0x0113, 0x0114, 0x0115, 0x0116,
	0x0117, 0x0118, 0x0119, 0x011a, 0x011b, 0x011c, 0x011d, 0x011e, 0x011f, 0x0120, 0x0121, 0x0122, 0x0123, 0x0124, 0x0125, 0x0126,
	0x0126, 0x0127, 0x0128, 0x0129, 0x012a, 0x012b, 0x012c, 0x012d, 0x012e, 0x012f, 0x0130, 0x0131, 0x0132, 0x0133, 0x0134, 0x0135,
	0x0136, 0x0137, 0x0138, 0x0139, 0x013a, 0x013b, 0x013c, 0x013d, 0x013e, 0x0140, 0x0141, 0x0142, 0x0143, 0x0144, 0x0145, 0x0146,
	0x0147, 0x0148, 0x0149, 0x014a, 0x014b, 0x014c, 0x014d, 0x014e, 0x0150, 0x0151, 0x0152, 0x0153, 0x0154, 0x0155, 0x0156, 0x0157,
	0x0158, 0x0159, 0x015a, 0x015b, 0x015c, 0x015d, 0x015e, 0x015f, 0x0160, 0x0162, 0x0163, 0x0164, 0x0165, 0x0166, 0x0167, 0x0168,
	0x0169, 0x016a, 0x016b, 0x016c, 0x016d, 0x016e, 0x016f, 0x0170, 0x0172, 0x0173, 0x0174, 0x0175, 0x0176, 0x0177, 0x0178, 0x0179,
	0x017a, 0x017b, 0x017c, 0x017d, 0x017e, 0x017f, 0x0181, 0x0182, 0x0183, 0x0184, 0x0185, 0x0186, 0x0187, 0x0188, 0x0189, 0x018a,
	0x018c, 0x018d, 0x018e, 0x018f, 0x0190, 0x0191, 0x0192, 0x0193, 0x0194, 0x0195, 0x0196, 0x0198, 0x0199, 0x019a, 0x019b, 0x019c,
	0x019d, 0x019e, 0x019f, 0x01a0, 0x01a1, 0x01a2, 0x01a4, 0x01a5, 0x01a6, 0x01a7, 0x01a8, 0x01a9, 0x01aa, 0x01ab, 0x01ac, 0x01ad,
	0x01ae, 0x01b0, 0x01b1, 0x01b2, 0x01b3, 0x01b4, 0x01b5, 0x01b6, 0x01b7, 0x01b8, 0x01b9, 0x01bb, 0x01bc, 0x01bd, 0x01be, 0x01bf,
	0x01c0, 0x01c1, 0x01c2, 0x01c3, 0x01c4, 0x01c5, 0x01c6, 0x01c7, 0x01c8, 0x01c9, 0x01ca, 0x01cb, 0x01cc, 0x01cd, 0x01ce, 0x01cf,
	0x01d0, 0x01d1, 0x01d2, 0x01d3, 0x01d4, 0x01d5, 0x01d6, 0x01d7, 0x01d8, 0x01d9, 0x01da, 0x01db, 0x01dc, 0x01dd, 0x01de, 0x01df,
	0x01e0, 0x01e1, 0x01e2, 0x01e3, 0x01e4, 0x01e5, 0x01e6, 0x01e7, 0x01e8, 0x01e9, 0x01ea, 0x01eb, 0x01ec, 0x01ed, 0x01ee, 0x01ef,
	0x01f0, 0x01f1, 0x01f2, 0x01f3, 0x01f4, 0x01f5, 0x01f6, 0x01f7, 0x01f8, 0x01f9, 0x01fa, 0x01fb, 0x01fc, 0x01fd, 0x01fe, 0x01ff,
	0x0200, 0x0201, 0x0202, 0x0203, 0x0204, 0x0205, 0x0206, 0x0208, 0x0209, 0x020a, 0x020b, 0x020c, 0x020d, 0x020e, 0x020f, 0x0210,
	0x0211, 0x0212, 0x0213, 0x0214, 0x0216, 0x0217, 0x0218, 0x0219, 0x021a, 0x021b, 0x021c, 0x021d, 0x021e, 0x021f, 0x0220, 0x0221,
	0x0222, 0x0224, 0x0225, 0x0226, 0x0227, 0x0228, 0x0229, 0x022a, 0x022b, 0x022c, 0x022d, 0x022e, 0x022f, 0x0231, 0x0232, 0x0233,
	0x0234, 0x0235, 0x0236, 0x0237, 0x0238, 0x0239, 0x023a, 0x023b, 0x023c, 0x023d, 0x023f, 0x0240, 0x0241, 0x0242, 0x0243, 0x0244,
	0x0245, 0x0246, 0x0247, 0x0248, 0x0249, 0x024a, 0x024b, 0x024c, 0x024d, 0x024e, 0x024f, 0x0250, 0x0251, 0x0252, 0x0253, 0x0254,
	0x0255, 0x0256, 0x0257, 0x0258, 0x0259, 0x025a, 0x025b, 0x025c, 0x025d, 0x025e, 0x025f, 0x0260, 0x0261, 0x0262, 0x0263, 0x0264,
	0x0266, 0x0267, 0x0268, 0x0269, 0x026a, 0x026b, 0x026c, 0x026d, 0x026e, 0x026f, 0x0270, 0x0271, 0x0272, 0x0273, 0x0274, 0x0275,
	0x0276, 0x0277, 0x0278, 0x0279, 0x027a, 0x027b, 0x027c, 0x027d, 0x027e, 0x027f, 0x0280, 0x0281, 0x0282, 0x0283, 0x0284, 0x0285,
	0x0286, 0x0287, 0x0288, 0x0289, 0x028a, 0x028b, 0x028c, 0x028d, 0x028e, 0x028f, 0x0290, 0x0290, 0x0291, 0x0292, 0x0293, 0x0294,
	0x0295, 0x0296, 0x0297, 0x0298, 0x0299, 0x029a, 0x029b, 0x029c, 0x029d, 0x029e, 0x029f, 0x02a0, 0x02a1, 0x02a2, 0x02a3, 0x02a4,
	0x02a4, 0x02a5, 0x02a6, 0x02a7, 0x02a8, 0x02a9, 0x02aa, 0x02ab, 0x02ac, 0x02ad, 0x02ae, 0x02af, 0x02b0, 0x02b1, 0x02b2, 0x02b3,
	0x02b4, 0x02b5, 0x02b6, 0x02b7, 0x02b8, 0x02b9, 0x02b9, 0x02ba, 0x02bb, 0x02bc, 0x02bd, 0x02be, 0x02bf, 0x02c0, 0x02c1, 0x02c2,
	0x02c3, 0x02c4, 0x02c5, 0x02c6, 0x02c7, 0x02c8, 0x02c9, 0x02ca, 0x02cb, 0x02cc, 0x02cd, 0x02cd, 0x02ce, 0x02cf, 0x02d0, 0x02d1,
	0x02d2, 0x02d3, 0x02d4, 0x02d5, 0x02d6, 0x02d7, 0x02d8, 0x02d9, 0x02da, 0x02db, 0x02dc, 0x02dd, 0x02de, 0x02df, 0x02e0, 0x02e1,
	0x02e2, 0x02e2, 0x02e3, 0x02e4, 0x02e5, 0x02e6, 0x02e7, 0x02e8, 0x02e9, 0x02ea, 0x02eb, 0x02ec, 0x02ed, 0x02ee, 0x02ef, 0x02f0,
	0x02f1, 0x02f2, 0x02f3, 0x02f4, 0x02f5, 0x02f6, 0x02f6, 0x02f7, 0x02f8, 0x02f9, 0x02fa, 0x02fb, 0x02fc, 0x02fd, 0x02fe, 0x02ff,
	0x0300, 0x0301, 0x0302, 0x0303, 0x0304, 0x0305, 0x0306, 0x0307, 0x0308, 0x0309, 0x030a, 0x030b, 0x030c, 0x030d, 0x030e, 0x030f,
	0x0310, 0x0311, 0x0312, 0x0313, 0x0314, 0x0315, 0x0316, 0x0317, 0x0318, 0x0319, 0x031a, 0x031b, 0x031c, 0x031d, 0x031e, 0x031f,
	0x0320, 0x0321, 0x0322, 0x0323, 0x0324, 0x0325, 0x0326, 0x0327, 0x0328, 0x0329, 0x032a, 0x032b, 0x032c, 0x032d, 0x032e, 0x032f,
	0x0330, 0x0331, 0x0332, 0x0333, 0x0334, 0x0335, 0x0336, 0x0337, 0x0338, 0x0339, 0x033a, 0x033b, 0x033c, 0x033d, 0x033e, 0x033f,
	0x0340, 0x0341, 0x0342, 0x0343, 0x0344, 0x0345, 0x0346, 0x0347, 0x0348, 0x0349, 0x034a, 0x034b, 0x034c, 0x034d, 0x034e, 0x034f,
	0x0350, 0x0351, 0x0352, 0x0353, 0x0354, 0x0355, 0x0356, 0x0357, 0x0358, 0x0359, 0x035a, 0x035b, 0x035c, 0x035d, 0x035e, 0x035f,
	0x0360, 0x0361, 0x0362, 0x0363, 0x0364, 0x0365, 0x0366, 0x0367, 0x0368, 0x0369, 0x036a, 0x036b, 0x036c, 0x036d, 0x036e, 0x036f,
	0x0370, 0x0371, 0x0372, 0x0373, 0x0374, 0x0375, 0x0376, 0x0377, 0x0378, 0x0379, 0x037a, 0x037b, 0x037c, 0x037d, 0x037e, 0x037f,
	0x0380, 0x0381, 0x0382, 0x0383, 0x0384, 0x0385, 0x0386, 0x0387, 0x0388, 0x0389, 0x038a, 0x038b, 0x038c, 0x038d, 0x038e, 0x038f,
	0x0390, 0x0391, 0x0392, 0x0393, 0x0394, 0x0395, 0x0396, 0x0397, 0x0398, 0x0399, 0x039a, 0x039b, 0x039c, 0x039d, 0x039e, 0x039f,
	0x03a0, 0x03a1, 0x03a2, 0x03a3, 0x03a4, 0x03a5, 0x03a6, 0x03a7, 0x03a8, 0x03a9, 0x03aa, 0x03ab, 0x03ac, 0x03ad, 0x03ae, 0x03af,
	0x03b0, 0x03b1, 0x03b2, 0x03b3, 0x03b4, 0x03b5, 0x03b6, 0x03b7, 0x03b8, 0x03b9, 0x03ba, 0x03bb, 0x03bc, 0x03bd, 0x03be, 0x03bf,
	0x03c0, 0x03c1, 0x03c2, 0x03c3, 0x03c4, 0x03c5, 0x03c6, 0x03c7, 0x03c8, 0x03c9, 0x03ca, 0x03cb, 0x03cc, 0x03cd, 0x03ce, 0x03cf,
	0x03d0, 0x03d1, 0x03d2, 0x03d3, 0x03d4, 0x03d5, 0x03d6, 0x03d7, 0x03d8, 0x03d9, 0x03da, 0x03db, 0x03dc, 0x03dd, 0x03de, 0x03df,
	0x03e0, 0x03e1, 0x03e2, 0x03e3, 0x03e4, 0x03e5, 0x03e6, 0x03e7, 0x03e8, 0x03e9, 0x03ea, 0x03eb, 0x03ec, 0x03ed, 0x03ee, 0x03ef,
	0x03f0, 0x03f1, 0x03f2, 0x03f3, 0x03f4, 0x03f5, 0x03f6, 0x03f7, 0x03f8, 0x03f9, 0x03fa, 0x03fb, 0x03fc, 0x03fd, 0x03fe, 0x03ff,
};

static u32 cinema_acm_lut_sata_table[] = {
	0x0069, 0x006c, 0x006e, 0x0071, 0x0074, 0x0077, 0x007a, 0x007c, 0x007f, 0x0081, 0x0083, 0x0085, 0x0088, 0x008a, 0x008c, 0x008e,
	0x0090, 0x0090, 0x0090, 0x008f, 0x008f, 0x008f, 0x008e, 0x008e, 0x008e, 0x008c, 0x008a, 0x0089, 0x0087, 0x0085, 0x0084, 0x0082,
	0x0080, 0x007d, 0x0079, 0x0076, 0x0072, 0x006f, 0x006c, 0x0068, 0x0065, 0x0060, 0x005b, 0x0056, 0x0050, 0x004b, 0x0046, 0x0041,
	0x003c, 0x0038, 0x0033, 0x002f, 0x002a, 0x0026, 0x0022, 0x001d, 0x0019, 0x0016, 0x0013, 0x0010, 0x000c, 0x0009, 0x0006, 0x0003,
	0x0000, 0x0015, 0x002a, 0x003f, 0x0054, 0x0069, 0x007e, 0x0093, 0x00a8, 0x00b0, 0x00b8, 0x00c0, 0x00c8, 0x00d0, 0x00d8, 0x00e0,
	0x00e8, 0x00ea, 0x00ec, 0x00ef, 0x00f1, 0x00f3, 0x00f6, 0x00f8, 0x00fa, 0x00fb, 0x00fb, 0x00fc, 0x00fc, 0x00fd, 0x00fe, 0x00fe,
	0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff,
	0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff,
	0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff,
	0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff,
	0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff,
	0x00ff, 0x00fd, 0x00fb, 0x00f9, 0x00f8, 0x00f6, 0x00f4, 0x00f2, 0x00f0, 0x00ec, 0x00e8, 0x00e3, 0x00df, 0x00db, 0x00d6, 0x00d2,
	0x00ce, 0x00c8, 0x00c2, 0x00bb, 0x00b5, 0x00af, 0x00a8, 0x00a2, 0x009c, 0x0094, 0x008b, 0x0083, 0x007a, 0x0072, 0x006a, 0x0061,
	0x0059, 0x004e, 0x0043, 0x0038, 0x002c, 0x0021, 0x0016, 0x000b, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0000, 0x0006, 0x000c, 0x0012, 0x0018, 0x001e, 0x0024, 0x002a, 0x0030, 0x0033, 0x0036, 0x0039, 0x003c, 0x0040, 0x0043, 0x0046,
	0x0049, 0x004c, 0x004f, 0x0052, 0x0054, 0x0057, 0x005a, 0x005d, 0x0060, 0x0061, 0x0062, 0x0063, 0x0064, 0x0066, 0x0067, 0x0068,
};

static u32 cinema_acm_lut_satr_table[] = {
	0x0000, 0x0000, 0x00ff, 0x00ff, 0x00fe, 0x00fe, 0x00fe, 0x00fd, 0x00fd, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc,
	0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc,
	0x00fc, 0x00fd, 0x00fd, 0x00fe, 0x00fe, 0x00ff, 0x00ff, 0x0000, 0x0000, 0x0001, 0x0001, 0x0002, 0x0002, 0x0003, 0x0003, 0x0004,
	0x0004, 0x0005, 0x0005, 0x0006, 0x0006, 0x0007, 0x0006, 0x0006, 0x0005, 0x0004, 0x0003, 0x0003, 0x0002, 0x0001, 0x0001, 0x0000,
	0x0000, 0x0000, 0x00ff, 0x00ff, 0x00fe, 0x00fe, 0x00fe, 0x00fd, 0x00fd, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fc, 0x00fd, 0x00fd,
	0x00fd, 0x00fd, 0x00fd, 0x00fd, 0x00fd, 0x00fe, 0x00fe, 0x00fe, 0x00fe, 0x00fe, 0x00fe, 0x00fe, 0x00ff, 0x00ff, 0x00ff, 0x00ff,
	0x0000, 0x0000, 0x0001, 0x0001, 0x0002, 0x0003, 0x0003, 0x0004, 0x0004, 0x0005, 0x0006, 0x0006, 0x0007, 0x0007, 0x0008, 0x0008,
	0x0009, 0x000a, 0x000a, 0x000b, 0x000b, 0x000c, 0x000b, 0x000a, 0x0008, 0x0007, 0x0006, 0x0005, 0x0004, 0x0002, 0x0001, 0x0000,
	0x0000, 0x0001, 0x0001, 0x0002, 0x0002, 0x0003, 0x0004, 0x0004, 0x0005, 0x0005, 0x0006, 0x0006, 0x0007, 0x0007, 0x0007, 0x0008,
	0x0008, 0x0008, 0x0009, 0x0009, 0x0009, 0x000a, 0x000a, 0x000a, 0x000b, 0x000b, 0x000b, 0x000c, 0x000c, 0x000c, 0x000d, 0x000d,
	0x000d, 0x000e, 0x000e, 0x000e, 0x000f, 0x000f, 0x0010, 0x0010, 0x0010, 0x0011, 0x0011, 0x0011, 0x0012, 0x0012, 0x0012, 0x0013,
	0x0013, 0x0014, 0x0014, 0x0014, 0x0015, 0x0015, 0x0013, 0x0011, 0x000f, 0x000d, 0x000a, 0x0008, 0x0006, 0x0004, 0x0002, 0x0000,
	0x0000, 0x0001, 0x0001, 0x0002, 0x0003, 0x0003, 0x0004, 0x0005, 0x0006, 0x0006, 0x0007, 0x0008, 0x0008, 0x0009, 0x0009, 0x000a,
	0x000a, 0x000b, 0x000b, 0x000c, 0x000c, 0x000d, 0x000d, 0x000e, 0x000e, 0x000f, 0x000f, 0x0010, 0x0010, 0x0011, 0x0011, 0x0012,
	0x0012, 0x0013, 0x0013, 0x0013, 0x0014, 0x0014, 0x0014, 0x0015, 0x0015, 0x0015, 0x0015, 0x0016, 0x0016, 0x0016, 0x0017, 0x0017,
	0x0017, 0x0018, 0x0018, 0x0018, 0x0019, 0x0019, 0x0016, 0x0014, 0x0011, 0x000f, 0x000c, 0x000a, 0x0007, 0x0005, 0x0002, 0x0000,
	0x0000, 0x0001, 0x0002, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0006, 0x0007, 0x0008, 0x0009, 0x0009, 0x000a, 0x000b, 0x000b,
	0x000c, 0x000d, 0x000d, 0x000e, 0x000f, 0x000f, 0x0010, 0x0011, 0x0011, 0x0012, 0x0013, 0x0013, 0x0014, 0x0015, 0x0015, 0x0016,
	0x0016, 0x0016, 0x0017, 0x0017, 0x0017, 0x0017, 0x0017, 0x0017, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0019, 0x0019, 0x0019,
	0x0019, 0x0019, 0x0019, 0x001a, 0x001a, 0x001a, 0x0017, 0x0015, 0x0012, 0x0010, 0x000d, 0x000a, 0x0008, 0x0005, 0x0003, 0x0000,
	0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008, 0x0009, 0x000a, 0x000b, 0x000b, 0x000c, 0x000c, 0x000d,
	0x000e, 0x000e, 0x000f, 0x0010, 0x0010, 0x0011, 0x0011, 0x0012, 0x0013, 0x0013, 0x0014, 0x0015, 0x0015, 0x0016, 0x0016, 0x0017,
	0x0017, 0x0017, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0019, 0x0019, 0x0019, 0x0019, 0x0019, 0x001a, 0x001a, 0x001a,
	0x001a, 0x001a, 0x001a, 0x001b, 0x001b, 0x001b, 0x0018, 0x0016, 0x0013, 0x0010, 0x000e, 0x000b, 0x0008, 0x0005, 0x0003, 0x0000,
	0x0000, 0x0001, 0x0001, 0x0002, 0x0003, 0x0003, 0x0004, 0x0005, 0x0006, 0x0006, 0x0007, 0x0008, 0x0009, 0x0009, 0x000a, 0x000b,
	0x000c, 0x000c, 0x000d, 0x000e, 0x000f, 0x000f, 0x0010, 0x0011, 0x0012, 0x0012, 0x0013, 0x0014, 0x0015, 0x0015, 0x0016, 0x0017,
	0x0017, 0x0017, 0x0017, 0x0017, 0x0017, 0x0017, 0x0017, 0x0017, 0x0017, 0x0017, 0x0017, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018,
	0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0016, 0x0013, 0x0011, 0x000e, 0x000c, 0x000a, 0x0007, 0x0005, 0x0002, 0x0000,
	0x0000, 0x0000, 0x0000, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00fe, 0x00fe, 0x00fe, 0x00fe, 0x00fe, 0x00fe, 0x00fe, 0x00fe,
	0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x00ff, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
	0x0001, 0x0001, 0x0002, 0x0003, 0x0003, 0x0004, 0x0004, 0x0005, 0x0006, 0x0006, 0x0007, 0x0008, 0x0008, 0x0009, 0x000a, 0x000a,
	0x000b, 0x000b, 0x000c, 0x000d, 0x000d, 0x000e, 0x000d, 0x000b, 0x000a, 0x0008, 0x0007, 0x0006, 0x0004, 0x0003, 0x0001, 0x0000,
};


/*******************************************************************************
** GAMMA
*/
static u32 gamma_lut_table_R[] = {
	0x0000, 0x000d, 0x0016, 0x001c, 0x0022, 0x0026, 0x002a, 0x002e, 0x0032, 0x0035, 0x0038, 0x003b, 0x003d, 0x0040, 0x0042, 0x0045,
	0x0047, 0x0049, 0x004b, 0x004d, 0x004f, 0x0051, 0x0053, 0x0055, 0x0056, 0x0058, 0x005a, 0x005c, 0x005d, 0x005f, 0x0060, 0x0062,
	0x0063, 0x0065, 0x0066, 0x0068, 0x0069, 0x006a, 0x006c, 0x006d, 0x006e, 0x0070, 0x0071, 0x0072, 0x0073, 0x0075, 0x0076, 0x0077,
	0x0078, 0x0079, 0x007a, 0x007c, 0x007d, 0x007e, 0x007f, 0x0080, 0x0081, 0x0082, 0x0083, 0x0084, 0x0085, 0x0086, 0x0087, 0x0088,
	0x0089, 0x008a, 0x008b, 0x008c, 0x008d, 0x008e, 0x008f, 0x0090, 0x0091, 0x0092, 0x0093, 0x0094, 0x0094, 0x0095, 0x0096, 0x0097,
	0x0098, 0x0099, 0x009a, 0x009b, 0x009b, 0x009c, 0x009d, 0x009e, 0x009f, 0x009f, 0x00a0, 0x00a1, 0x00a2, 0x00a3, 0x00a3, 0x00a4,
	0x00a5, 0x00a6, 0x00a7, 0x00a7, 0x00a8, 0x00a9, 0x00aa, 0x00aa, 0x00ab, 0x00ac, 0x00ad, 0x00ad, 0x00ae, 0x00af, 0x00af, 0x00b0,
	0x00b1, 0x00b2, 0x00b2, 0x00b3, 0x00b4, 0x00b4, 0x00b5, 0x00b6, 0x00b6, 0x00b7, 0x00b8, 0x00b9, 0x00b9, 0x00ba, 0x00bb, 0x00bb,
	0x00bc, 0x00bd, 0x00bd, 0x00be, 0x00be, 0x00bf, 0x00c0, 0x00c0, 0x00c1, 0x00c2, 0x00c2, 0x00c3, 0x00c4, 0x00c4, 0x00c5, 0x00c5,
	0x00c6, 0x00c7, 0x00c7, 0x00c8, 0x00c8, 0x00c9, 0x00ca, 0x00ca, 0x00cb, 0x00cb, 0x00cc, 0x00cd, 0x00cd, 0x00ce, 0x00ce, 0x00cf,
	0x00d0, 0x00d0, 0x00d1, 0x00d1, 0x00d2, 0x00d2, 0x00d3, 0x00d4, 0x00d4, 0x00d5, 0x00d5, 0x00d6, 0x00d6, 0x00d7, 0x00d7, 0x00d8,
	0x00d8, 0x00d9, 0x00da, 0x00da, 0x00db, 0x00db, 0x00dc, 0x00dc, 0x00dd, 0x00dd, 0x00de, 0x00de, 0x00df, 0x00df, 0x00e0, 0x00e0,
	0x00e1, 0x00e2, 0x00e2, 0x00e3, 0x00e3, 0x00e4, 0x00e4, 0x00e5, 0x00e5, 0x00e6, 0x00e6, 0x00e7, 0x00e7, 0x00e8, 0x00e8, 0x00e9,
	0x00e9, 0x00ea, 0x00ea, 0x00eb, 0x00eb, 0x00ec, 0x00ec, 0x00ed, 0x00ed, 0x00ee, 0x00ee, 0x00ee, 0x00ef, 0x00ef, 0x00f0, 0x00f0,
	0x00f1, 0x00f1, 0x00f2, 0x00f2, 0x00f3, 0x00f3, 0x00f4, 0x00f4, 0x00f5, 0x00f5, 0x00f6, 0x00f6, 0x00f6, 0x00f7, 0x00f7, 0x00f8,
	0x00f8, 0x00f9, 0x00f9, 0x00fa, 0x00fa, 0x00fb, 0x00fb, 0x00fb, 0x00fc, 0x00fc, 0x00fd, 0x00fd, 0x00fe, 0x00fe, 0x00ff, 0x00ff,
};

static u32 gamma_lut_table_G[] = {
	0x0000, 0x000d, 0x0016, 0x001c, 0x0022, 0x0026, 0x002a, 0x002e, 0x0032, 0x0035, 0x0038, 0x003b, 0x003d, 0x0040, 0x0042, 0x0045,
	0x0047, 0x0049, 0x004b, 0x004d, 0x004f, 0x0051, 0x0053, 0x0055, 0x0056, 0x0058, 0x005a, 0x005c, 0x005d, 0x005f, 0x0060, 0x0062,
	0x0063, 0x0065, 0x0066, 0x0068, 0x0069, 0x006a, 0x006c, 0x006d, 0x006e, 0x0070, 0x0071, 0x0072, 0x0073, 0x0075, 0x0076, 0x0077,
	0x0078, 0x0079, 0x007a, 0x007c, 0x007d, 0x007e, 0x007f, 0x0080, 0x0081, 0x0082, 0x0083, 0x0084, 0x0085, 0x0086, 0x0087, 0x0088,
	0x0089, 0x008a, 0x008b, 0x008c, 0x008d, 0x008e, 0x008f, 0x0090, 0x0091, 0x0092, 0x0093, 0x0094, 0x0094, 0x0095, 0x0096, 0x0097,
	0x0098, 0x0099, 0x009a, 0x009b, 0x009b, 0x009c, 0x009d, 0x009e, 0x009f, 0x009f, 0x00a0, 0x00a1, 0x00a2, 0x00a3, 0x00a3, 0x00a4,
	0x00a5, 0x00a6, 0x00a7, 0x00a7, 0x00a8, 0x00a9, 0x00aa, 0x00aa, 0x00ab, 0x00ac, 0x00ad, 0x00ad, 0x00ae, 0x00af, 0x00af, 0x00b0,
	0x00b1, 0x00b2, 0x00b2, 0x00b3, 0x00b4, 0x00b4, 0x00b5, 0x00b6, 0x00b6, 0x00b7, 0x00b8, 0x00b9, 0x00b9, 0x00ba, 0x00bb, 0x00bb,
	0x00bc, 0x00bd, 0x00bd, 0x00be, 0x00be, 0x00bf, 0x00c0, 0x00c0, 0x00c1, 0x00c2, 0x00c2, 0x00c3, 0x00c4, 0x00c4, 0x00c5, 0x00c5,
	0x00c6, 0x00c7, 0x00c7, 0x00c8, 0x00c8, 0x00c9, 0x00ca, 0x00ca, 0x00cb, 0x00cb, 0x00cc, 0x00cd, 0x00cd, 0x00ce, 0x00ce, 0x00cf,
	0x00d0, 0x00d0, 0x00d1, 0x00d1, 0x00d2, 0x00d2, 0x00d3, 0x00d4, 0x00d4, 0x00d5, 0x00d5, 0x00d6, 0x00d6, 0x00d7, 0x00d7, 0x00d8,
	0x00d8, 0x00d9, 0x00da, 0x00da, 0x00db, 0x00db, 0x00dc, 0x00dc, 0x00dd, 0x00dd, 0x00de, 0x00de, 0x00df, 0x00df, 0x00e0, 0x00e0,
	0x00e1, 0x00e2, 0x00e2, 0x00e3, 0x00e3, 0x00e4, 0x00e4, 0x00e5, 0x00e5, 0x00e6, 0x00e6, 0x00e7, 0x00e7, 0x00e8, 0x00e8, 0x00e9,
	0x00e9, 0x00ea, 0x00ea, 0x00eb, 0x00eb, 0x00ec, 0x00ec, 0x00ed, 0x00ed, 0x00ee, 0x00ee, 0x00ee, 0x00ef, 0x00ef, 0x00f0, 0x00f0,
	0x00f1, 0x00f1, 0x00f2, 0x00f2, 0x00f3, 0x00f3, 0x00f4, 0x00f4, 0x00f5, 0x00f5, 0x00f6, 0x00f6, 0x00f6, 0x00f7, 0x00f7, 0x00f8,
	0x00f8, 0x00f9, 0x00f9, 0x00fa, 0x00fa, 0x00fb, 0x00fb, 0x00fb, 0x00fc, 0x00fc, 0x00fd, 0x00fd, 0x00fe, 0x00fe, 0x00ff, 0x00ff,
};

static u32 gamma_lut_table_B[] = {
	0x0000, 0x000d, 0x0016, 0x001c, 0x0022, 0x0026, 0x002a, 0x002e, 0x0032, 0x0035, 0x0038, 0x003b, 0x003d, 0x0040, 0x0042, 0x0045,
	0x0047, 0x0049, 0x004b, 0x004d, 0x004f, 0x0051, 0x0053, 0x0055, 0x0056, 0x0058, 0x005a, 0x005c, 0x005d, 0x005f, 0x0060, 0x0062,
	0x0063, 0x0065, 0x0066, 0x0068, 0x0069, 0x006a, 0x006c, 0x006d, 0x006e, 0x0070, 0x0071, 0x0072, 0x0073, 0x0075, 0x0076, 0x0077,
	0x0078, 0x0079, 0x007a, 0x007c, 0x007d, 0x007e, 0x007f, 0x0080, 0x0081, 0x0082, 0x0083, 0x0084, 0x0085, 0x0086, 0x0087, 0x0088,
	0x0089, 0x008a, 0x008b, 0x008c, 0x008d, 0x008e, 0x008f, 0x0090, 0x0091, 0x0092, 0x0093, 0x0094, 0x0094, 0x0095, 0x0096, 0x0097,
	0x0098, 0x0099, 0x009a, 0x009b, 0x009b, 0x009c, 0x009d, 0x009e, 0x009f, 0x009f, 0x00a0, 0x00a1, 0x00a2, 0x00a3, 0x00a3, 0x00a4,
	0x00a5, 0x00a6, 0x00a7, 0x00a7, 0x00a8, 0x00a9, 0x00aa, 0x00aa, 0x00ab, 0x00ac, 0x00ad, 0x00ad, 0x00ae, 0x00af, 0x00af, 0x00b0,
	0x00b1, 0x00b2, 0x00b2, 0x00b3, 0x00b4, 0x00b4, 0x00b5, 0x00b6, 0x00b6, 0x00b7, 0x00b8, 0x00b9, 0x00b9, 0x00ba, 0x00bb, 0x00bb,
	0x00bc, 0x00bd, 0x00bd, 0x00be, 0x00be, 0x00bf, 0x00c0, 0x00c0, 0x00c1, 0x00c2, 0x00c2, 0x00c3, 0x00c4, 0x00c4, 0x00c5, 0x00c5,
	0x00c6, 0x00c7, 0x00c7, 0x00c8, 0x00c8, 0x00c9, 0x00ca, 0x00ca, 0x00cb, 0x00cb, 0x00cc, 0x00cd, 0x00cd, 0x00ce, 0x00ce, 0x00cf,
	0x00d0, 0x00d0, 0x00d1, 0x00d1, 0x00d2, 0x00d2, 0x00d3, 0x00d4, 0x00d4, 0x00d5, 0x00d5, 0x00d6, 0x00d6, 0x00d7, 0x00d7, 0x00d8,
	0x00d8, 0x00d9, 0x00da, 0x00da, 0x00db, 0x00db, 0x00dc, 0x00dc, 0x00dd, 0x00dd, 0x00de, 0x00de, 0x00df, 0x00df, 0x00e0, 0x00e0,
	0x00e1, 0x00e2, 0x00e2, 0x00e3, 0x00e3, 0x00e4, 0x00e4, 0x00e5, 0x00e5, 0x00e6, 0x00e6, 0x00e7, 0x00e7, 0x00e8, 0x00e8, 0x00e9,
	0x00e9, 0x00ea, 0x00ea, 0x00eb, 0x00eb, 0x00ec, 0x00ec, 0x00ed, 0x00ed, 0x00ee, 0x00ee, 0x00ee, 0x00ef, 0x00ef, 0x00f0, 0x00f0,
	0x00f1, 0x00f1, 0x00f2, 0x00f2, 0x00f3, 0x00f3, 0x00f4, 0x00f4, 0x00f5, 0x00f5, 0x00f6, 0x00f6, 0x00f6, 0x00f7, 0x00f7, 0x00f8,
	0x00f8, 0x00f9, 0x00f9, 0x00fa, 0x00fa, 0x00fb, 0x00fb, 0x00fb, 0x00fc, 0x00fc, 0x00fd, 0x00fd, 0x00fe, 0x00fe, 0x00ff, 0x00ff,
};

/*******************************************************************************
** IGM
*/
static u32 igm_lut_table_R[] = {
	0x0000, 0x0001, 0x0002, 0x0004, 0x0005, 0x0006, 0x0007, 0x0009, 0x000a, 0x000b, 0x000c, 0x000e, 0x000f, 0x0010, 0x0012, 0x0013,
	0x0015, 0x0017, 0x0019, 0x001b, 0x001d, 0x001f, 0x0021, 0x0023, 0x0025, 0x0028, 0x002a, 0x002d, 0x002f, 0x0032, 0x0035, 0x0038,
	0x003b, 0x003e, 0x0041, 0x0045, 0x0048, 0x004b, 0x004f, 0x0053, 0x0057, 0x005a, 0x005e, 0x0063, 0x0067, 0x006b, 0x006f, 0x0074,
	0x0079, 0x007d, 0x0082, 0x0087, 0x008c, 0x0091, 0x0097, 0x009c, 0x00a1, 0x00a7, 0x00ad, 0x00b2, 0x00b8, 0x00be, 0x00c5, 0x00cb,
	0x00d1, 0x00d8, 0x00de, 0x00e5, 0x00ec, 0x00f3, 0x00fa, 0x0101, 0x0108, 0x0110, 0x0117, 0x011f, 0x0127, 0x012f, 0x0137, 0x013f,
	0x0147, 0x0150, 0x0158, 0x0161, 0x016a, 0x0173, 0x017c, 0x0185, 0x018e, 0x0198, 0x01a1, 0x01ab, 0x01b5, 0x01bf, 0x01c9, 0x01d3,
	0x01dd, 0x01e8, 0x01f2, 0x01fd, 0x0208, 0x0213, 0x021e, 0x0229, 0x0235, 0x0240, 0x024c, 0x0258, 0x0264, 0x0270, 0x027c, 0x0289,
	0x0295, 0x02a2, 0x02af, 0x02bb, 0x02c9, 0x02d6, 0x02e3, 0x02f1, 0x02fe, 0x030c, 0x031a, 0x0328, 0x0336, 0x0345, 0x0353, 0x0362,
	0x0371, 0x0380, 0x038f, 0x039e, 0x03ad, 0x03bd, 0x03cd, 0x03dd, 0x03ed, 0x03fd, 0x040d, 0x041d, 0x042e, 0x043f, 0x0450, 0x0461,
	0x0472, 0x0483, 0x0495, 0x04a6, 0x04b8, 0x04ca, 0x04dc, 0x04ef, 0x0501, 0x0514, 0x0526, 0x0539, 0x054c, 0x0560, 0x0573, 0x0587,
	0x059a, 0x05ae, 0x05c2, 0x05d6, 0x05eb, 0x05ff, 0x0614, 0x0629, 0x063e, 0x0653, 0x0668, 0x067e, 0x0693, 0x06a9, 0x06bf, 0x06d5,
	0x06eb, 0x0702, 0x0718, 0x072f, 0x0746, 0x075d, 0x0775, 0x078c, 0x07a4, 0x07bb, 0x07d3, 0x07eb, 0x0804, 0x081c, 0x0835, 0x084e,
	0x0867, 0x0880, 0x0899, 0x08b3, 0x08cc, 0x08e6, 0x0900, 0x091a, 0x0935, 0x094f, 0x096a, 0x0985, 0x09a0, 0x09bb, 0x09d6, 0x09f2,
	0x0a0d, 0x0a29, 0x0a45, 0x0a62, 0x0a7e, 0x0a9b, 0x0ab8, 0x0ad5, 0x0af2, 0x0b0f, 0x0b2c, 0x0b4a, 0x0b68, 0x0b86, 0x0ba4, 0x0bc3,
	0x0be1, 0x0c00, 0x0c1f, 0x0c3e, 0x0c5d, 0x0c7d, 0x0c9c, 0x0cbc, 0x0cdc, 0x0cfd, 0x0d1d, 0x0d3e, 0x0d5e, 0x0d7f, 0x0da0, 0x0dc2,
	0x0de3, 0x0e05, 0x0e27, 0x0e49, 0x0e6b, 0x0e8d, 0x0eb0, 0x0ed3, 0x0ef6, 0x0f19, 0x0f3c, 0x0f60, 0x0f84, 0x0fa8, 0x0fcc, 0x0ff0,
};

static u32 igm_lut_table_G[] = {
	0x0000, 0x0001, 0x0002, 0x0004, 0x0005, 0x0006, 0x0007, 0x0009, 0x000a, 0x000b, 0x000c, 0x000e, 0x000f, 0x0010, 0x0012, 0x0013,
	0x0015, 0x0017, 0x0019, 0x001b, 0x001d, 0x001f, 0x0021, 0x0023, 0x0025, 0x0028, 0x002a, 0x002d, 0x002f, 0x0032, 0x0035, 0x0038,
	0x003b, 0x003e, 0x0041, 0x0045, 0x0048, 0x004b, 0x004f, 0x0053, 0x0057, 0x005a, 0x005e, 0x0063, 0x0067, 0x006b, 0x006f, 0x0074,
	0x0079, 0x007d, 0x0082, 0x0087, 0x008c, 0x0091, 0x0097, 0x009c, 0x00a1, 0x00a7, 0x00ad, 0x00b2, 0x00b8, 0x00be, 0x00c5, 0x00cb,
	0x00d1, 0x00d8, 0x00de, 0x00e5, 0x00ec, 0x00f3, 0x00fa, 0x0101, 0x0108, 0x0110, 0x0117, 0x011f, 0x0127, 0x012f, 0x0137, 0x013f,
	0x0147, 0x0150, 0x0158, 0x0161, 0x016a, 0x0173, 0x017c, 0x0185, 0x018e, 0x0198, 0x01a1, 0x01ab, 0x01b5, 0x01bf, 0x01c9, 0x01d3,
	0x01dd, 0x01e8, 0x01f2, 0x01fd, 0x0208, 0x0213, 0x021e, 0x0229, 0x0235, 0x0240, 0x024c, 0x0258, 0x0264, 0x0270, 0x027c, 0x0289,
	0x0295, 0x02a2, 0x02af, 0x02bb, 0x02c9, 0x02d6, 0x02e3, 0x02f1, 0x02fe, 0x030c, 0x031a, 0x0328, 0x0336, 0x0345, 0x0353, 0x0362,
	0x0371, 0x0380, 0x038f, 0x039e, 0x03ad, 0x03bd, 0x03cd, 0x03dd, 0x03ed, 0x03fd, 0x040d, 0x041d, 0x042e, 0x043f, 0x0450, 0x0461,
	0x0472, 0x0483, 0x0495, 0x04a6, 0x04b8, 0x04ca, 0x04dc, 0x04ef, 0x0501, 0x0514, 0x0526, 0x0539, 0x054c, 0x0560, 0x0573, 0x0587,
	0x059a, 0x05ae, 0x05c2, 0x05d6, 0x05eb, 0x05ff, 0x0614, 0x0629, 0x063e, 0x0653, 0x0668, 0x067e, 0x0693, 0x06a9, 0x06bf, 0x06d5,
	0x06eb, 0x0702, 0x0718, 0x072f, 0x0746, 0x075d, 0x0775, 0x078c, 0x07a4, 0x07bb, 0x07d3, 0x07eb, 0x0804, 0x081c, 0x0835, 0x084e,
	0x0867, 0x0880, 0x0899, 0x08b3, 0x08cc, 0x08e6, 0x0900, 0x091a, 0x0935, 0x094f, 0x096a, 0x0985, 0x09a0, 0x09bb, 0x09d6, 0x09f2,
	0x0a0d, 0x0a29, 0x0a45, 0x0a62, 0x0a7e, 0x0a9b, 0x0ab8, 0x0ad5, 0x0af2, 0x0b0f, 0x0b2c, 0x0b4a, 0x0b68, 0x0b86, 0x0ba4, 0x0bc3,
	0x0be1, 0x0c00, 0x0c1f, 0x0c3e, 0x0c5d, 0x0c7d, 0x0c9c, 0x0cbc, 0x0cdc, 0x0cfd, 0x0d1d, 0x0d3e, 0x0d5e, 0x0d7f, 0x0da0, 0x0dc2,
	0x0de3, 0x0e05, 0x0e27, 0x0e49, 0x0e6b, 0x0e8d, 0x0eb0, 0x0ed3, 0x0ef6, 0x0f19, 0x0f3c, 0x0f60, 0x0f84, 0x0fa8, 0x0fcc, 0x0ff0,
};

static u32 igm_lut_table_B[] = {
	0x0000, 0x0001, 0x0002, 0x0004, 0x0005, 0x0006, 0x0007, 0x0009, 0x000a, 0x000b, 0x000c, 0x000e, 0x000f, 0x0010, 0x0012, 0x0013,
	0x0015, 0x0017, 0x0019, 0x001b, 0x001d, 0x001f, 0x0021, 0x0023, 0x0025, 0x0028, 0x002a, 0x002d, 0x002f, 0x0032, 0x0035, 0x0038,
	0x003b, 0x003e, 0x0041, 0x0045, 0x0048, 0x004b, 0x004f, 0x0053, 0x0057, 0x005a, 0x005e, 0x0063, 0x0067, 0x006b, 0x006f, 0x0074,
	0x0079, 0x007d, 0x0082, 0x0087, 0x008c, 0x0091, 0x0097, 0x009c, 0x00a1, 0x00a7, 0x00ad, 0x00b2, 0x00b8, 0x00be, 0x00c5, 0x00cb,
	0x00d1, 0x00d8, 0x00de, 0x00e5, 0x00ec, 0x00f3, 0x00fa, 0x0101, 0x0108, 0x0110, 0x0117, 0x011f, 0x0127, 0x012f, 0x0137, 0x013f,
	0x0147, 0x0150, 0x0158, 0x0161, 0x016a, 0x0173, 0x017c, 0x0185, 0x018e, 0x0198, 0x01a1, 0x01ab, 0x01b5, 0x01bf, 0x01c9, 0x01d3,
	0x01dd, 0x01e8, 0x01f2, 0x01fd, 0x0208, 0x0213, 0x021e, 0x0229, 0x0235, 0x0240, 0x024c, 0x0258, 0x0264, 0x0270, 0x027c, 0x0289,
	0x0295, 0x02a2, 0x02af, 0x02bb, 0x02c9, 0x02d6, 0x02e3, 0x02f1, 0x02fe, 0x030c, 0x031a, 0x0328, 0x0336, 0x0345, 0x0353, 0x0362,
	0x0371, 0x0380, 0x038f, 0x039e, 0x03ad, 0x03bd, 0x03cd, 0x03dd, 0x03ed, 0x03fd, 0x040d, 0x041d, 0x042e, 0x043f, 0x0450, 0x0461,
	0x0472, 0x0483, 0x0495, 0x04a6, 0x04b8, 0x04ca, 0x04dc, 0x04ef, 0x0501, 0x0514, 0x0526, 0x0539, 0x054c, 0x0560, 0x0573, 0x0587,
	0x059a, 0x05ae, 0x05c2, 0x05d6, 0x05eb, 0x05ff, 0x0614, 0x0629, 0x063e, 0x0653, 0x0668, 0x067e, 0x0693, 0x06a9, 0x06bf, 0x06d5,
	0x06eb, 0x0702, 0x0718, 0x072f, 0x0746, 0x075d, 0x0775, 0x078c, 0x07a4, 0x07bb, 0x07d3, 0x07eb, 0x0804, 0x081c, 0x0835, 0x084e,
	0x0867, 0x0880, 0x0899, 0x08b3, 0x08cc, 0x08e6, 0x0900, 0x091a, 0x0935, 0x094f, 0x096a, 0x0985, 0x09a0, 0x09bb, 0x09d6, 0x09f2,
	0x0a0d, 0x0a29, 0x0a45, 0x0a62, 0x0a7e, 0x0a9b, 0x0ab8, 0x0ad5, 0x0af2, 0x0b0f, 0x0b2c, 0x0b4a, 0x0b68, 0x0b86, 0x0ba4, 0x0bc3,
	0x0be1, 0x0c00, 0x0c1f, 0x0c3e, 0x0c5d, 0x0c7d, 0x0c9c, 0x0cbc, 0x0cdc, 0x0cfd, 0x0d1d, 0x0d3e, 0x0d5e, 0x0d7f, 0x0da0, 0x0dc2,
	0x0de3, 0x0e05, 0x0e27, 0x0e49, 0x0e6b, 0x0e8d, 0x0eb0, 0x0ed3, 0x0ef6, 0x0f19, 0x0f3c, 0x0f60, 0x0f84, 0x0fa8, 0x0fcc, 0x0ff0,
};

/*******************************************************************************
** GMT
*/
static u32 lcp_gmp_lut_table_low32bit[9][9][9] = {
	{
		{0x00000000, 0x0b0051b9, 0x1700a373, 0x2200f52c, 0x2d0146e5, 0x3801989f, 0x4401ea58, 0x4f023c11, 0x5a028dbd, },
		{0x3a1f501a, 0x451fa1d3, 0x5020038c, 0x5b205546, 0x6720a6ff, 0x7220f8b9, 0x7d214a72, 0x89219c2b, 0x9421edd7, },
		{0x733eb034, 0x7f3f01ed, 0x8a3f53a6, 0x953fa560, 0xa03ff719, 0xac4048d2, 0xb7409a8c, 0xc240ec45, 0xcd413df1, },
		{0xad5e004d, 0xb85e5207, 0xc35ea3c0, 0xcf5ef579, 0xda5f4733, 0xe55f98ec, 0xf15ffaa5, 0xfc604c5f, 0x07608e0a, },
		{0xe77d6067, 0xf27db221, 0xfd7e03da, 0x087e5593, 0x147ea74d, 0x1f7ef906, 0x2a7f4abf, 0x367f9c79, 0x407fee24, },
		{0x209cb081, 0x2b9d023a, 0x379d53f4, 0x429da5ad, 0x4d9df766, 0x599e4920, 0x649e9ad9, 0x6f9eec92, 0x7a9f3e3e, },
		{0x5abc009b, 0x65bc5254, 0x70bca40d, 0x7cbd05c7, 0x87bd5780, 0x92bda93a, 0x9dbdfaf3, 0xa9be4cac, 0xb4be9e58, },
		{0x93db60b5, 0x9fdbb26e, 0xaadc0427, 0xb5dc55e1, 0xc1dca79a, 0xccdcf953, 0xd7dd4b0d, 0xe2dd9cc6, 0xedddee72, },
		{0xcbf9b0ce, 0xd6fa1287, 0xe2fa6440, 0xedfab5fa, 0xf8fb07b3, 0x04fb596c, 0x0ffbab26, 0x1afbfcdf, 0x25fc4e8b, },
	},
	{
		{0xc2008003, 0xcd00d1bc, 0xd8012375, 0xe301752f, 0xef01c6e8, 0xfa0218a1, 0x05026a5b, 0x1102bc14, 0x1c030dc0, },
		{0xfb1fe01c, 0x072031d6, 0x1220838f, 0x1d20d548, 0x28212702, 0x342178bb, 0x3f21ca75, 0x4a221c2e, 0x55226dd9, },
		{0x353f3036, 0x403f81f0, 0x4b3fd3a9, 0x57402562, 0x6240771c, 0x6d40c8d5, 0x79411a8e, 0x84416c48, 0x8f41bdf3, },
		{0x6e5e8050, 0x7a5ed209, 0x855f23c3, 0x905f757c, 0x9c5fd735, 0xa76028ef, 0xb2607aa8, 0xbe60cc61, 0xc8611e0d, },
		{0xa87de06a, 0xb37e3223, 0xbf7e83dd, 0xca7ed596, 0xd57f274f, 0xe17f7909, 0xec7fcac2, 0xf7801c7b, 0x02806e27, },
		{0xe29d3084, 0xed9d823d, 0xf89dd3f6, 0x049e25b0, 0x0f9e7769, 0x1a9ec922, 0x259f1adc, 0x319f6c95, 0x3c9fbe41, },
		{0x1bbc809d, 0x27bce257, 0x32bd3410, 0x3dbd85c9, 0x49bdd783, 0x54be293c, 0x5fbe7af6, 0x6abeccaf, 0x75bf1e5a, },
		{0x55dbe0b7, 0x60dc3271, 0x6cdc842a, 0x77dcd5e3, 0x82dd279d, 0x8ddd7956, 0x99ddcb0f, 0xa4de1cc9, 0xafde6e74, },
		{0x8dfa40d0, 0x98fa928a, 0xa3fae443, 0xaffb35fc, 0xbafb87b6, 0xc5fbd96f, 0xd1fc2b28, 0xdcfc7ce2, 0xe7fcce8d, },
	},
	{
		{0x83010005, 0x8f0151bf, 0x9a01a378, 0xa501f531, 0xb00246eb, 0xbc0298a4, 0xc702fa5d, 0xd2034c17, 0xdd039dc2, },
		{0xbd20601f, 0xc820b1d8, 0xd3210392, 0xdf21554b, 0xea21a704, 0xf521f8be, 0x01224a77, 0x0c229c30, 0x1722eddc, },
		{0xf63fb039, 0x024001f2, 0x0d4053ac, 0x1840a565, 0x2440f71e, 0x2f4148d8, 0x3a419a91, 0x4541ec4a, 0x50423df6, },
		{0x305f0053, 0x3b5f520c, 0x475fb3c5, 0x5260057f, 0x5d605738, 0x6960a8f1, 0x7460faab, 0x7f614c64, 0x8a619e10, },
		{0x6a7e606c, 0x757eb226, 0x807f03df, 0x8c7f5599, 0x977fa752, 0xa27ff90b, 0xad804ac5, 0xb9809c7e, 0xc480ee29, },
		{0xa39db086, 0xaf9e0240, 0xba9e53f9, 0xc59ea5b2, 0xd19ef76c, 0xdc9f4925, 0xe79faade, 0xf29ffc98, 0xfda03e43, },
		{0xddbd10a0, 0xe8bd6259, 0xf4bdb413, 0xffbe05cc, 0x0abe5785, 0x15bea93f, 0x21befaf8, 0x2cbf4cb1, 0x37bf9e5d, },
		{0x17dc60ba, 0x22dcb273, 0x2ddd042d, 0x38dd55e6, 0x44dda79f, 0x4fddf959, 0x5ade4b12, 0x66de9ccb, 0x71deee77, },
		{0x4efac0d3, 0x5afb128c, 0x65fb6446, 0x70fbb5ff, 0x7cfc07b8, 0x87fc5972, 0x92fcab2b, 0x9dfcfce4, 0xa8fd4e90, },
	},
	{
		{0x45018008, 0x5001d1c1, 0x5b02237b, 0x67028534, 0x7202d6ed, 0x7d0328a7, 0x89037a60, 0x9403cc19, 0x9f041dc5, },
		{0x7e20e022, 0x8a2131db, 0x95218394, 0xa021d54e, 0xac222707, 0xb72278c0, 0xc222ca7a, 0xcd231c33, 0xd8236ddf, },
		{0xb840303c, 0xc34081f5, 0xcf40d3ae, 0xda412568, 0xe5417721, 0xf141c8da, 0xfc421a94, 0x07427c4d, 0x1242bdf8, },
		{0xf25f9055, 0xfd5fe20f, 0x086033c8, 0x14608581, 0x1f60d73b, 0x2a6128f4, 0x35617aad, 0x4161cc67, 0x4c621e12, },
		{0x2b7ee06f, 0x377f3228, 0x427f83e2, 0x4d7fd59b, 0x58802755, 0x6480790e, 0x6f80cac7, 0x7a811c81, 0x85816e2c, },
		{0x659e3089, 0x709e8242, 0x7c9ed3fc, 0x879f25b5, 0x929f876e, 0x9d9fd928, 0xa9a02ae1, 0xb4a07c9a, 0xbfa0ce46, },
		{0x9fbd90a3, 0xaabde25c, 0xb5be3415, 0xc0be85cf, 0xccbed788, 0xd7bf2941, 0xe2bf7afb, 0xeebfccb4, 0xf9c01e60, },
		{0xd8dce0bd, 0xe4dd3276, 0xefdd842f, 0xfaddd5e9, 0x05de27a2, 0x11de795b, 0x1cdecb15, 0x27df1cce, 0x32df6e79, },
		{0x10fb40d6, 0x1bfb928f, 0x27fbe448, 0x32fc3602, 0x3dfc87bb, 0x48fcd974, 0x54fd2b2e, 0x5ffd7ce7, 0x6afdce92, },
	},
	{
		{0x0602000b, 0x120261c4, 0x1d02b37d, 0x28030537, 0x340356f0, 0x3f03a8a9, 0x4a03fa63, 0x55044c1c, 0x60049dc8, },
		{0x40216024, 0x4b21b1de, 0x57220397, 0x62225550, 0x6d22a70a, 0x7922f8c3, 0x84234a7c, 0x8f239c36, 0x9a23ede1, },
		{0x7a40b03e, 0x854101f8, 0x904153b1, 0x9c41a56a, 0xa741f724, 0xb24258dd, 0xbd42aa96, 0xc942fc50, 0xd4434dfb, },
		{0xb3601058, 0xbf606211, 0xca60b3cb, 0xd5610584, 0xe061573d, 0xec61a8f7, 0xf761fab0, 0x02624c69, 0x0d629e15, },
		{0xed7f6072, 0xf87fb22b, 0x048003e4, 0x0f80559e, 0x1a80a757, 0x2580f910, 0x31814aca, 0x3c819c83, 0x4781ee2f, },
		{0x279eb08c, 0x329f0245, 0x3d9f63fe, 0x489fb5b8, 0x54a00771, 0x5fa0592a, 0x6aa0aae4, 0x76a0fc9d, 0x81a14e49, },
		{0x60be10a5, 0x6bbe625f, 0x77beb418, 0x82bf05d1, 0x8dbf578b, 0x99bfa944, 0xa4bffafd, 0xafc04cb7, 0xbac09e62, },
		{0x9add60bf, 0xa5ddb279, 0xb0de0432, 0xbcde55eb, 0xc7dea7a5, 0xd2def95e, 0xdedf5b17, 0xe9dfacd1, 0xf4dfee7c, },
		{0xd2fbc0d8, 0xddfc1292, 0xe8fc644b, 0xf4fcb604, 0xfffd07be, 0x0afd5977, 0x15fdab30, 0x21fdfcea, 0x2cfe4e95, },
	},
	{
		{0xc802900d, 0xd302e1c7, 0xdf033380, 0xea038539, 0xf503d6f3, 0x010428ac, 0x0c047a65, 0x1704cc1f, 0x22051dca, },
		{0x0221e027, 0x0d2231e0, 0x1822839a, 0x2422d553, 0x2f23270c, 0x3a2378c6, 0x4523ca7f, 0x51241c38, 0x5c246de4, },
		{0x3b413041, 0x474181fa, 0x5241d3b3, 0x5d42356d, 0x68428726, 0x7442d8e0, 0x7f432a99, 0x8a437c52, 0x9543cdfe, },
		{0x7560905b, 0x8060e214, 0x8c6133cd, 0x97618587, 0xa261d740, 0xad6228f9, 0xb9627ab3, 0xc462cc6c, 0xcf631e18, },
		{0xaf7fe074, 0xba80322e, 0xc58083e7, 0xd080d5a0, 0xdc81275a, 0xe7817913, 0xf281cacc, 0xfe822c86, 0x09826e31, },
		{0xe89f408e, 0xf39f9248, 0xff9fe401, 0x0aa035ba, 0x15a08774, 0x21a0d92d, 0x2ca12ae6, 0x37a17ca0, 0x42a1ce4b, },
		{0x22be90a8, 0x2dbee261, 0x38bf341b, 0x44bf85d4, 0x4fbfd78d, 0x5ac02947, 0x66c07b00, 0x71c0ccb9, 0x7cc11e65, },
		{0x5bdde0c2, 0x67de327b, 0x72de8434, 0x7dded5ee, 0x89df37a7, 0x94df8961, 0x9fdfdb1a, 0xaae02cd3, 0xb5e07e7f, },
		{0x93fc40db, 0x9ffc9294, 0xaafce44d, 0xb5fd3607, 0xc0fd87c0, 0xccfdd97a, 0xd7fe2b33, 0xe2fe7cec, 0xedfece98, },
	},
	{
		{0x8a031010, 0x950361c9, 0xa003b383, 0xac04053c, 0xb70456f5, 0xc204a8af, 0xcd04fa68, 0xd9054c21, 0xe4059dcd, },
		{0xc322602a, 0xcf22b1e3, 0xda23039c, 0xe5235556, 0xf023a70f, 0xfc23f8c8, 0x07244a82, 0x12249c3b, 0x1d24ede7, },
		{0xfd41b043, 0x084211fd, 0x144263b6, 0x1f42b56f, 0x2a430729, 0x354358e2, 0x4143aa9c, 0x4c43fc55, 0x57444e00, },
		{0x3761105d, 0x42616217, 0x4d61b3d0, 0x58620589, 0x64625743, 0x6f62a8fc, 0x7a62fab5, 0x86634c6f, 0x91639e1a, },
		{0x70806077, 0x7b80b230, 0x878103ea, 0x928155a3, 0x9d81a75c, 0xa9820916, 0xb4825acf, 0xbf82ac88, 0xca82fe34, },
		{0xaa9fc091, 0xb5a0124a, 0xc0a06404, 0xcca0b5bd, 0xd7a10776, 0xe2a15930, 0xeea1aae9, 0xf9a1fca2, 0x04a24e4e, },
		{0xe3bf10ab, 0xefbf6264, 0xfabfb41d, 0x05c005d7, 0x11c05790, 0x1cc0a949, 0x27c0fb03, 0x32c14cbc, 0x3dc19e68, },
		{0x1dde60c4, 0x28deb27e, 0x34df1437, 0x3fdf65f0, 0x4adfb7aa, 0x55e00963, 0x61e05b1d, 0x6ce0acd6, 0x77e0fe81, },
		{0x55fcc0dd, 0x60fd1297, 0x6bfd6450, 0x77fdb609, 0x82fe07c3, 0x8dfe597c, 0x99feab36, 0xa4ff0cef, 0xafff0e9a, },
	},
	{
		{0x4b039012, 0x5703e1cc, 0x62043385, 0x6d04853f, 0x7804d6f8, 0x840528b1, 0x8f057a6b, 0x9a05cc24, 0xa5061dcf, },
		{0x8522e02c, 0x902331e6, 0x9b23839f, 0xa723d558, 0xb2242712, 0xbd2478cb, 0xc924da84, 0xd4252c3e, 0xdf256de9, },
		{0xbf424046, 0xca4291ff, 0xd542e3b9, 0xe0433572, 0xec43872b, 0xf743d8e5, 0x02442a9e, 0x0e447c58, 0x1844ce03, },
		{0xf8619060, 0x0361e219, 0x0f6233d3, 0x1a62858c, 0x2562d745, 0x316328ff, 0x3c637ab8, 0x4763cc71, 0x52641e1d, },
		{0x3280e07a, 0x3d813233, 0x488183ec, 0x5481e5a6, 0x5f82375f, 0x6a828918, 0x7682dad2, 0x81832c8b, 0x8c837e37, },
		{0x6ba04093, 0x77a0924d, 0x82a0e406, 0x8da135c0, 0x99a18779, 0xa4a1d932, 0xafa22aec, 0xbaa27ca5, 0xc5a2ce50, },
		{0xa5bf90ad, 0xb0bfe267, 0xbcc03420, 0xc7c085d9, 0xd2c0d793, 0xddc1294c, 0xe9c17b05, 0xf4c1dcbf, 0xffc21e6a, },
		{0xdfdef0c7, 0xeadf4280, 0xf5df943a, 0x01dfe5f3, 0x0ce037ac, 0x17e08966, 0x22e0db1f, 0x2ee12cd9, 0x39e17e84, },
		{0x16fd40e0, 0x22fd9299, 0x2dfde453, 0x38fe360c, 0x44fe87c5, 0x4ffee97f, 0x5aff0b38, 0x66ff0cf1, 0x70ff0e9d, },
	},
	{
		{0xff041015, 0x0a0461ce, 0x1504b388, 0x21050541, 0x2c0556fa, 0x3705a8b4, 0x4305fa6d, 0x4e064c26, 0x59069dd2, },
		{0x3823602f, 0x4423b1e8, 0x4f2403a2, 0x5a24555b, 0x6624a714, 0x7124f8ce, 0x7c254a87, 0x87259c40, 0x9225edec, },
		{0x7242b049, 0x7d430202, 0x894363bb, 0x9443b575, 0x9f44072e, 0xab4458e7, 0xb644aaa1, 0xc144fc5a, 0xcc454e06, },
		{0xac621062, 0xb762621c, 0xc262b3d5, 0xce63058e, 0xd9635748, 0xe463a901, 0xef63fabb, 0xfb644c74, 0x06649e1f, },
		{0xe581607c, 0xf181b236, 0xfc8203ef, 0x078255a8, 0x1382a762, 0x1e82f91b, 0x29835ad4, 0x3483ac8e, 0x3f83ee39, },
		{0x1fa0c096, 0x2aa1124f, 0x36a16409, 0x41a1b5c2, 0x4ca2077b, 0x57a25935, 0x63a2aaee, 0x6ea2fca7, 0x79a34e53, },
		{0x59c010b0, 0x64c06269, 0x6fc0b423, 0x7ac105dc, 0x86c15795, 0x91c1a94f, 0x9cc1fb08, 0xa8c24cc1, 0xb3c29e6d, },
		{0x92df60ca, 0x9edfb283, 0xa9e0043c, 0xb4e065f6, 0xbfe0b7af, 0xcbe10968, 0xd6e15b22, 0xe1e1acdb, 0xece1fe87, },
		{0xcafdc0e3, 0xd5fe129c, 0xe1fe6455, 0xecfeb60f, 0xf0ff07c8, 0xf0ff0981, 0xf0ff0b3b, 0xf0ff0cf4, 0xf0ff0ea0, },
	},
};

static u32 lcp_gmp_lut_table_high4bit[9][9][9] = {
	{
		{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, },
		{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, },
		{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, },
		{0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x1, },
		{0x0, 0x0, 0x0, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, },
		{0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, },
		{0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, },
		{0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x1, },
		{0x1, 0x1, 0x1, 0x1, 0x1, 0x2, 0x2, 0x2, 0x2, },
	},
	{
		{0x1, 0x1, 0x1, 0x1, 0x1, 0x1, 0x2, 0x2, 0x2, },
		{0x1, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, },
		{0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, },
		{0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, },
		{0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x2, 0x3, },
		{0x2, 0x2, 0x2, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, },
		{0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, },
		{0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, },
		{0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, },
	},
	{
		{0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x3, },
		{0x3, 0x3, 0x3, 0x3, 0x3, 0x3, 0x4, 0x4, 0x4, },
		{0x3, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, },
		{0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, },
		{0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, },
		{0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, 0x4, },
		{0x4, 0x4, 0x4, 0x4, 0x5, 0x5, 0x5, 0x5, 0x5, },
		{0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, },
		{0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, },
	},
	{
		{0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, },
		{0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, },
		{0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x5, 0x6, 0x6, },
		{0x5, 0x5, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, },
		{0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, },
		{0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, },
		{0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, 0x6, },
		{0x6, 0x6, 0x6, 0x6, 0x7, 0x7, 0x7, 0x7, 0x7, },
		{0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, },
	},
	{
		{0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, },
		{0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, },
		{0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, },
		{0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x7, 0x8, 0x8, },
		{0x7, 0x7, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, },
		{0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, },
		{0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, },
		{0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, 0x8, },
		{0x8, 0x8, 0x8, 0x8, 0x8, 0x9, 0x9, 0x9, 0x9, },
	},
	{
		{0x8, 0x8, 0x8, 0x8, 0x8, 0x9, 0x9, 0x9, 0x9, },
		{0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, },
		{0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, },
		{0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, },
		{0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0x9, 0xa, },
		{0x9, 0x9, 0x9, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, },
		{0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, },
		{0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, },
		{0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, },
	},
	{
		{0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xa, },
		{0xa, 0xa, 0xa, 0xa, 0xa, 0xa, 0xb, 0xb, 0xb, },
		{0xa, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, },
		{0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, },
		{0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, },
		{0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xb, 0xc, },
		{0xb, 0xb, 0xb, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, },
		{0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, },
		{0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, },
	},
	{
		{0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, },
		{0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xc, },
		{0xc, 0xc, 0xc, 0xc, 0xc, 0xc, 0xd, 0xd, 0xd, },
		{0xc, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, },
		{0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, },
		{0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, },
		{0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, 0xd, },
		{0xd, 0xd, 0xd, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, },
		{0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, },
	},
	{
		{0xd, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, },
		{0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, },
		{0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, },
		{0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xe, 0xf, },
		{0xe, 0xe, 0xe, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, },
		{0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, },
		{0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, },
		{0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, },
		{0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, 0xf, },
	},
};



/*******************************************************************************
** XCC
*/
static u32 xcc_table[12] = {0x0, 0x8000, 0x0,0x0,0x0,0x0,0x8000,0x0,0x0,0x0,0x0,0x8000,};

/*******************************************************************************
**
*/

static int btv_i2c_write_u8(u8 addr,u8 val)
{
	int ret = 0;
	u8 write_buf[2];
	struct i2c_client *client = g_sony_client;
	struct i2c_msg msgs[] = {
		{
			.addr = client->addr,
			.flags = client->flags & I2C_M_TEN,
			.len = sizeof(write_buf),
			.buf = write_buf,
		},
	};
	write_buf[0] = addr;
	write_buf[1] = val;

	ret = i2c_transfer(client->adapter, msgs, 1);
	if(ret != 1){
		HISI_FB_ERR("write transfer error\n");
		ret = -EIO;
	} else {
		ret = 0;
	}
	return ret;
}

static int btv_i2c_read_u8(u8 addr,u8* val)
{
	int ret = 0;
	struct i2c_client *client = g_sony_client;
	u8 read_buf[2];
	struct i2c_msg  msgs[] = {
		{
			.addr = client->addr,
			.flags = client->flags & I2C_M_TEN,
			.len = 1,
			.buf = read_buf,
		},
		{
			.addr = client->addr,
			.flags = (client->flags & I2C_M_TEN) | I2C_M_RD,
			.len = 1,
			.buf = val,
		},
	};
	read_buf[0] = addr;
	ret = i2c_transfer(client->adapter, msgs, 2);
	if (ret != 2) {
		HISI_FB_ERR("read transfer error\n");
		ret = -EIO;
	} else {
		ret = 0;
	}
	return ret;
}



static ssize_t mipi_lp8556_read_show(struct device *dev, struct device_attribute *attr, char *buf)
{
	int ret  = -1;
	ret = snprintf(buf, PAGE_SIZE,"reg:0x%x = 0x%x\n",lp8556_reg_addr,lp8556_reg_value);
	return ret;
}

static ssize_t mipi_lp8556_write_store(struct device *dev, struct device_attribute *attr, const char *buf, size_t size)
{
	int ret  = -1;
	unsigned long flag = 0xFF;
	u8 value = 0;
	ret = sscanf(buf,"%1d", &flag);
	if(ret < 0) {
		HISI_FB_ERR("input value is error, ret = %d.\n",ret);
		return -EINVAL;
	}

	if(0 == flag){//read
		ret = sscanf(buf,"%1d %2x", &flag,&lp8556_reg_addr);
		if (ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		btv_i2c_read_u8(lp8556_reg_addr,&lp8556_reg_value);
	}else if(1 == flag){ //write
		ret = sscanf(buf,"%1d %2x %2x", &flag,&lp8556_reg_addr,&value);
		if (ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		btv_i2c_write_u8(lp8556_reg_addr,value);
	}else{
		HISI_FB_ERR("input value is error, flag = %lu.\n",flag);
	}
	return size;
}

static char debug_cmd[20] = {0x0};
static struct dsi_cmd_desc g_tm_debug_cmd = {
		.dtype = DTYPE_DCS_LWRITE,
		.vc = 0,
		.wait = 10,
		.waittype = WAIT_TYPE_US,
		.dlen = sizeof(debug_cmd),
		.payload = debug_cmd,
};

static ssize_t mipi_sharp_NT35523_8p4_reg_store(struct device *dev,
		struct device_attribute *attr, const char *buf, size_t size)
{
	int ret  = -1;
	u8 count = 0;
	u8 reg = 0;
	u8 value[20] =  {0};
	int read_value = 0;
	struct hisi_fb_data_type *hisifd = NULL;

	HISI_FB_ERR("call mipi_tianma_R63319_8p4_reg_store !\n");
	if (NULL == buf) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 2;
	}

	if (m_pdev == NULL) {
		HISI_FB_ERR("pdev NULL Pointer!\n");
		return 2;
	}

	hisifd = platform_get_drvdata(m_pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("222 NULL Pointer!\n");
		return 1;
	}

	ret = sscanf(buf,"%d", &count);
	if(ret != 1) {
		HISI_FB_ERR("input value is error, ret = %d.\n",ret);
		return -EINVAL;
	}
	if (count < 1 || count > 20) {
		HISI_FB_ERR("input value is error, parameters num must 1- 10 \n");
		return -EINVAL;
	}

	if(1 == count){//read
		ret = sscanf(buf,"%d %x", &count, &reg);
		if(ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		g_tm_debug_cmd.dtype = DTYPE_DCS_READ;
		g_tm_debug_cmd.dlen = 1;
		g_tm_debug_cmd.payload[0]  = reg;
		mipi_dsi_cmds_rx(&read_value,&g_tm_debug_cmd, 1, hisifd->mipi_dsi0_base);
		HISI_FB_INFO("dsi0 read reg:%x value is %x\n", reg, read_value);
		mipi_dsi_cmds_rx(&read_value,&g_tm_debug_cmd, 1, hisifd->mipi_dsi1_base);

		HISI_FB_INFO("dsi1 read reg:%x value is %x\n", reg, read_value);
	} else if(2 == count){ //write
		ret = sscanf(buf,"%d %x %x", &count,&reg,&value[0]);
		if(ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		g_tm_debug_cmd.dtype = DTYPE_DCS_LWRITE;
		g_tm_debug_cmd.dlen = 2;
		g_tm_debug_cmd.payload[0]  = reg;
		g_tm_debug_cmd.payload[1] = value[0];
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi0_base);
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi1_base);
	} else if(4 == count){
		ret = sscanf(buf,"%d %x %x %x %x", &count,&reg,&value[0], &value[1], &value[2]);
		if(ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		g_tm_debug_cmd.dtype = DTYPE_DCS_LWRITE;
		g_tm_debug_cmd.dlen = 4;
		g_tm_debug_cmd.payload[0]  = reg;
		g_tm_debug_cmd.payload[1] = value[0];
		g_tm_debug_cmd.payload[2] = value[1];
		g_tm_debug_cmd.payload[3] = value[2];
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi0_base);
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi1_base);
	} else if(7 == count){
		ret = sscanf(buf,"%d %x %x %x %x %x %x %x", &count,&reg,
				&value[0], &value[1], &value[2], &value[3], &value[4], &value[5]);
		if(ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		g_tm_debug_cmd.dtype = DTYPE_DCS_LWRITE;
		g_tm_debug_cmd.dlen = 7;
		g_tm_debug_cmd.payload[0]  = reg;
		g_tm_debug_cmd.payload[1] = value[0];
		g_tm_debug_cmd.payload[2] = value[1];
		g_tm_debug_cmd.payload[3] = value[2];
		g_tm_debug_cmd.payload[4] = value[3];
		g_tm_debug_cmd.payload[5] = value[4];
		g_tm_debug_cmd.payload[6] = value[5];
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi0_base);
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi1_base);
	}else if(6 == count){
		ret = sscanf(buf,"%d %x %x %x %x %x %x", &count,&reg,
				&value[0], &value[1], &value[2], &value[3], &value[4]);
		if(ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		g_tm_debug_cmd.dtype = DTYPE_DCS_LWRITE;
		g_tm_debug_cmd.dlen = 6;
		g_tm_debug_cmd.payload[0]  = reg;
		g_tm_debug_cmd.payload[1] = value[0];
		g_tm_debug_cmd.payload[2] = value[1];
		g_tm_debug_cmd.payload[3] = value[2];
		g_tm_debug_cmd.payload[4] = value[3];
		g_tm_debug_cmd.payload[5] = value[4];
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi0_base);
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi1_base);
	}else if(5 == count){
		ret = sscanf(buf,"%d %x %x %x %x %x", &count,&reg,
				&value[0], &value[1], &value[2], &value[3]);
		if(ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		g_tm_debug_cmd.dtype = DTYPE_DCS_LWRITE;
		g_tm_debug_cmd.dlen = 5;
		g_tm_debug_cmd.payload[0]  = reg;
		g_tm_debug_cmd.payload[1] = value[0];
		g_tm_debug_cmd.payload[2] = value[1];
		g_tm_debug_cmd.payload[3] = value[2];
		g_tm_debug_cmd.payload[4] = value[3];
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi0_base);
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi1_base);
	}
	else if(11 == count){
		ret = sscanf(buf,"%d %x %x %x %x %x %x %x %x %x %x %x", &count,&reg,
				&value[0], &value[1], &value[2], &value[3], &value[4], &value[5],
				&value[6], &value[7], &value[8], &value[9]);
		if(ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		g_tm_debug_cmd.dtype = DTYPE_DCS_LWRITE;
		g_tm_debug_cmd.dlen = 11;
		g_tm_debug_cmd.payload[0]  = reg;
		g_tm_debug_cmd.payload[1] = value[0];
		g_tm_debug_cmd.payload[2] = value[1];
		g_tm_debug_cmd.payload[3] = value[2];
		g_tm_debug_cmd.payload[4] = value[3];
		g_tm_debug_cmd.payload[5] = value[4];
		g_tm_debug_cmd.payload[6] = value[5];
		g_tm_debug_cmd.payload[7] = value[6];
		g_tm_debug_cmd.payload[8] = value[7];
		g_tm_debug_cmd.payload[9] = value[8];
		g_tm_debug_cmd.payload[10] = value[9];

		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi0_base);
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi1_base);
	}
	else if(14 == count){
		ret = sscanf(buf,"%d %x %x %x %x %x %x %x %x %x %x %x %x %x %x", &count,&reg,
				&value[0], &value[1], &value[2], &value[3], &value[4], &value[5],
				&value[6], &value[7], &value[8], &value[9], &value[10], &value[11], &value[12]);
		if(ret < 0) {
			HISI_FB_ERR("input value is error, ret = %d.\n",ret);
			return -EINVAL;
		}
		g_tm_debug_cmd.dtype = DTYPE_DCS_LWRITE;
		g_tm_debug_cmd.dlen = 14;
		g_tm_debug_cmd.payload[0]  = reg;
		g_tm_debug_cmd.payload[1] = value[0];
		g_tm_debug_cmd.payload[2] = value[1];
		g_tm_debug_cmd.payload[3] = value[2];
		g_tm_debug_cmd.payload[4] = value[3];
		g_tm_debug_cmd.payload[5] = value[4];
		g_tm_debug_cmd.payload[6] = value[5];
		g_tm_debug_cmd.payload[7] = value[6];
		g_tm_debug_cmd.payload[8] = value[7];
		g_tm_debug_cmd.payload[9] = value[8];
		g_tm_debug_cmd.payload[10] = value[9];
		g_tm_debug_cmd.payload[11] = value[10];
		g_tm_debug_cmd.payload[12] = value[11];
		g_tm_debug_cmd.payload[13] = value[12];
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi0_base);
		mipi_dsi_cmds_tx(&g_tm_debug_cmd, 1, hisifd->mipi_dsi1_base);
	}
	else{
		HISI_FB_ERR("now not support, count = %d.\n",count);
	}

	return size;
}

static struct device_attribute attributes[] = {
	__ATTR(ipc_i2c_read_write, 0664, mipi_lp8556_read_show, mipi_lp8556_write_store),
	__ATTR(ddic_reg_read_write, 0220, NULL, mipi_sharp_NT35523_8p4_reg_store),
};

static int add_sysfs_interfaces(struct device *dev)
{
	int i = 0;

	for (i = 0; i < ARRAY_SIZE(attributes); i++) {
		if (device_create_file(dev, attributes + i)) {
			HISI_FB_ERR("%s create fail\n", attributes[i].attr.name);
			goto undo;
		}
	}

	return 0;
undo:
	for (i--; i >= 0; i--)
		device_remove_file(dev, attributes + i);
		HISI_FB_ERR("%s: failed to create sysfs interface\n", __func__);
	return -ENODEV;
}

static struct btv_register_data lp8556_btv_init_cmd[]={
	{0x01,0x81},
	{0xA0,0xFF},
	{0xA1,0xBF},
	{0xA2,0x28},
	{0xA3,0x02},
	{0xA4,0x72},
	{0xA5,0x20},
	{0xA6,0x80},
	{0xA7,0xF7},
	{0xA9,0x60},
	{0xAA,0x0F},
	{0xAE,0x0E},
	{0x9E,0x22},
	{0x16,0x0F},
};

static struct btv_register_data lp8556_slope_on={
	0xA3,
	0x42,
};

static int lp8556_btv_init(void)
{
	HISI_FB_INFO("[I2C]lp8556_btv_init");

	int ret=0;
	u8 value=0;
	int length,i;
	length = sizeof(lp8556_btv_init_cmd)/sizeof(struct btv_register_data);
	for(i = 0;i<length;i++){
		ret = btv_i2c_write_u8(lp8556_btv_init_cmd[i].reg,lp8556_btv_init_cmd[i].value);
		if(ret < 0){
			HISI_FB_ERR("[ERR] :register[%d] = 0x%x,value = 0x%x.\n",i,lp8556_btv_init_cmd[i].reg, lp8556_btv_init_cmd[i].value);
			break;
		}
	}

	udelay(200);

	ret = btv_i2c_read_u8(LP8556_STATUS_REG,&value);
	HISI_FB_INFO("reg = 0x%x ,ret = %d,value = 0x%x.\n",LP8556_STATUS_REG,ret,value);

	return ret;
}


static int mipi_sharp_NT35523_8p4_panel_set_fastboot(struct platform_device *pdev)
{
	struct hisi_fb_data_type *hisifd = NULL;

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	hisifd = platform_get_drvdata(pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	HISI_FB_DEBUG("fb%d, +.\n", hisifd->index);

	// lcd pinctrl normal
	pinctrl_cmds_tx(pdev, lcd_pinctrl_normal_cmds, ARRAY_SIZE(lcd_pinctrl_normal_cmds));

	// lcd gpio request
	gpio_cmds_tx(lcd_gpio_request_cmds, ARRAY_SIZE(lcd_gpio_request_cmds));

	// backlight on
	hisi_lcd_backlight_on(pdev);

	HISI_FB_DEBUG("fb%d, -.\n", hisifd->index);

	return 0;
}

static int mipi_sharp_NT35523_8p4_panel_on(struct platform_device *pdev)
{
	struct hisi_fb_data_type *hisifd = NULL;
	struct hisi_panel_info *pinfo = NULL;
	char __iomem *mipi_dsi0_base = NULL;
	char __iomem *mipi_dsi1_base = NULL;
	char __iomem *dpp_base = NULL;
	char __iomem *acm_base = NULL;


#if defined (CONFIG_HUAWEI_DSM)
	static struct lcd_reg_read_t lcd_status_reg[] = {
		{0x0A, 0x9C, 0xFF, "lcd power state"},
	};
#endif

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	hisifd = platform_get_drvdata(pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	HISI_FB_INFO("fb%d, +!\n", hisifd->index);

	pinfo = &(hisifd->panel_info);
	mipi_dsi0_base = hisifd->mipi_dsi0_base;
	mipi_dsi1_base = hisifd->mipi_dsi1_base;
	dpp_base = hisifd->dss_base + DSS_DPP_OFFSET;
	acm_base = hisifd->dss_base + DSS_DPP_ACM_OFFSET;

	if (pinfo->lcd_init_step == LCD_INIT_POWER_ON) {
		HISI_FB_INFO("Init power on.\n");

		// lcd pinctrl normal
		pinctrl_cmds_tx(pdev, lcd_pinctrl_normal_cmds, ARRAY_SIZE(lcd_pinctrl_normal_cmds));

		// lcd gpio request
		gpio_cmds_tx(lcd_gpio_request_cmds, ARRAY_SIZE(lcd_gpio_request_cmds));

		// lcd gpio normal
		gpio_cmds_tx(lcd_gpio_normal_cmds, ARRAY_SIZE(lcd_gpio_normal_cmds));

		pinfo->lcd_init_step = LCD_INIT_MIPI_LP_SEND_SEQUENCE;
	} else if (pinfo->lcd_init_step == LCD_INIT_MIPI_LP_SEND_SEQUENCE) {
		HISI_FB_INFO("Init lcd_init_step is lp send mode.\n");
		lp8556_btv_init();
		mipi_dsi_cmds_tx(lcd_init_display_on_exit_sleep, ARRAY_SIZE(lcd_init_display_on_exit_sleep), mipi_dsi0_base);
		mipi_dsi_cmds_tx(lcd_init_display_on_exit_sleep, ARRAY_SIZE(lcd_init_display_on_exit_sleep), mipi_dsi1_base);
		mdelay(100);
		mipi_dsi_cmds_tx(lcd_init_display_on_cmds_otp, ARRAY_SIZE(lcd_init_display_on_cmds_otp), mipi_dsi0_base);
		mipi_dsi_cmds_tx(lcd_init_display_on_cmds_otp, ARRAY_SIZE(lcd_init_display_on_cmds_otp), mipi_dsi1_base);
		g_cabc_mode = CABC_UI_MODE;

#if defined (CONFIG_HUAWEI_DSM)
		panel_check_status_and_report_by_dsm(lcd_status_reg, ARRAY_SIZE(lcd_status_reg), mipi_dsi0_base);
#endif
		g_debug_enable = 1;
		pinfo->lcd_init_step = LCD_INIT_MIPI_HS_SEND_SEQUENCE;
	} else if (pinfo->lcd_init_step == LCD_INIT_MIPI_HS_SEND_SEQUENCE) {
		HISI_FB_INFO("Init hs send data mode.\n");
		if(!runmode_is_factory()) {
			/*this project: 0 means using sRGB, 1 means using color_enhance*/
			if (g_color_enhancement_mode == COLOR_EN_DEFAULT) {
				/*open acm*/
				set_reg(acm_base + ACM_EN, 0x1 | (pinfo->acm_valid_num << 4), 32, 0); //open acm

				/*close gmp*/
				set_reg(dpp_base + LCP_GMP_BYPASS_EN, 0x1, 1, 0);	//disable gmp
			} else if (g_color_enhancement_mode == COLOR_EN_SRGB) {
				/*close acm*/
				set_reg(acm_base + ACM_EN, 0x0, 1, 0); //close acm
				/*open gmp*/
				set_reg(dpp_base + LCP_GMP_BYPASS_EN, 0x0, 1, 0);	//enable gmp
			} else if (g_color_enhancement_mode == COLOR_EN_CLOSED) {
				/*close acm*/
				set_reg(acm_base + ACM_EN, 0x0, 1, 0); //close acm
				/*close gmp*/
				set_reg(dpp_base + LCP_GMP_BYPASS_EN, 0x1, 1, 0);	//disable gmp
			} else {
				HISI_FB_DEBUG(" no this color_enhancement mode!\n");
			};
		}

	} else {
		HISI_FB_ERR("failed to init lcd!\n");
	}

	// backlight on
	hisi_lcd_backlight_on(pdev);

	HISI_FB_INFO("fb%d, -!\n", hisifd->index);

	return 0;
}

static int mipi_sharp_NT35523_8p4_panel_off(struct platform_device *pdev)
{
	struct hisi_fb_data_type *hisifd = NULL;
	struct hisi_panel_info *pinfo = NULL;

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	hisifd = platform_get_drvdata(pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	HISI_FB_INFO("fb%d, +!\n", hisifd->index);

	pinfo = &(hisifd->panel_info);

	/* backlight off */
	hisi_lcd_backlight_off(pdev);
	g_debug_enable = 0;
	if (pinfo->lcd_uninit_step == LCD_UNINIT_MIPI_HS_SEND_SEQUENCE) {
		HISI_FB_INFO("display off(download display off sequence).\n");

		// lcd display off sequence
		mipi_dsi_cmds_tx(display_off_cmds, ARRAY_SIZE(display_off_cmds), hisifd->mipi_dsi0_base);
		mipi_dsi_cmds_tx(display_off_cmds, ARRAY_SIZE(display_off_cmds), hisifd->mipi_dsi1_base);
		mdelay(100);
		mipi_dsi_cmds_tx(display_off_cmds_enter_sleep, ARRAY_SIZE(display_off_cmds_enter_sleep), hisifd->mipi_dsi0_base);
		mipi_dsi_cmds_tx(display_off_cmds_enter_sleep, ARRAY_SIZE(display_off_cmds_enter_sleep), hisifd->mipi_dsi1_base);
		mdelay(150);

		pinfo->lcd_uninit_step = LCD_UNINIT_MIPI_LP_SEND_SEQUENCE;
	} else if (pinfo->lcd_uninit_step == LCD_UNINIT_MIPI_LP_SEND_SEQUENCE) {
		pinfo->lcd_uninit_step = LCD_UNINIT_POWER_OFF;
	} else if (pinfo->lcd_uninit_step == LCD_UNINIT_POWER_OFF) {
		HISI_FB_INFO("display off(regulator disabling).\n");

		// lcd gpio lowpower
		gpio_cmds_tx(lcd_gpio_lowpower_cmds, ARRAY_SIZE(lcd_gpio_lowpower_cmds));

		// lcd gpio free
		gpio_cmds_tx(lcd_gpio_free_cmds, ARRAY_SIZE(lcd_gpio_free_cmds));

		// lcd pinctrl lowpower
		pinctrl_cmds_tx(pdev, lcd_pinctrl_lowpower_cmds, ARRAY_SIZE(lcd_pinctrl_lowpower_cmds));

	} else {
		HISI_FB_ERR("failed to uninit lcd!\n");
	}
	HISI_FB_INFO("fb%d, -!\n", hisifd->index);

	return 0;
}

static int mipi_sharp_NT35523_8p4_panel_remove(struct platform_device *pdev)
{
	struct hisi_fb_data_type *hisifd = NULL;

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	hisifd = platform_get_drvdata(pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	HISI_FB_DEBUG("fb%d, +.\n", hisifd->index);

	// lcd pinctrl finit
	pinctrl_cmds_tx(pdev, lcd_pinctrl_finit_cmds, ARRAY_SIZE(lcd_pinctrl_finit_cmds));

	HISI_FB_DEBUG("fb%d, -.\n", hisifd->index);

	return 0;
}

static int mipi_sharp_NT35523_8p4_panel_set_backlight(struct platform_device *pdev, uint32_t bl_level)
{
	char __iomem *mipi_dsi0_base = NULL;
	struct hisi_fb_data_type *hisifd = NULL;
	int ret = 0;
	static char last_bl_level=0;
	char bl_level_adjust[2] = {
		0x51,
		0xFF,
	};

	struct dsi_cmd_desc lcd_bl_level_adjust[] = {
		{DTYPE_DCS_WRITE1, 0, 100, WAIT_TYPE_US, sizeof(bl_level_adjust), bl_level_adjust},
	};

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	hisifd = platform_get_drvdata(pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	HISI_FB_DEBUG("fb%d, +.\n", hisifd->index);

	if(2 == g_debug_enable){
		ret = btv_i2c_write_u8(lp8556_slope_on.reg,lp8556_slope_on.value);
		HISI_FB_INFO("lp8556_slope_on,g_debug_enable = %d,bl_level = %d!!!\n",g_debug_enable,bl_level);
		g_debug_enable = 3;
	}

	if (1 == g_debug_enable) {
		HISI_FB_INFO("Power on, First set brightness to %d\n", bl_level);
		g_debug_enable = 2;
	}

	HISI_FB_INFO("set brightness to %d\n", bl_level);

	if (!bl_level) {
		HISI_FB_INFO("Set backlight to 0 !!!\n");
	}

	if (hisifd->panel_info.bl_set_type & BL_SET_BY_PWM) {
		ret = hisi_pwm_set_backlight(hisifd, bl_level);
	} else if (hisifd->panel_info.bl_set_type & BL_SET_BY_BLPWM) {
		ret = hisi_blpwm_set_backlight(hisifd, bl_level);
	} else if (hisifd->panel_info.bl_set_type & BL_SET_BY_MIPI) {
		mipi_dsi0_base = hisifd->mipi_dsi0_base;

		bl_level_adjust[1] = bl_level * 255 / hisifd->panel_info.bl_max;
		if (last_bl_level != bl_level_adjust[1]){
			last_bl_level = bl_level_adjust[1];
			mipi_dsi_cmds_tx(lcd_bl_level_adjust, ARRAY_SIZE(lcd_bl_level_adjust), mipi_dsi0_base);
		}
	} else {
		HISI_FB_ERR("No such bl_set_type!\n");
	}

	HISI_FB_DEBUG("fb%d, -.\n", hisifd->index);

	return ret;
}


/******************************************************************************/
static ssize_t mipi_sharp_NT35523_8p4_panel_model_show(struct platform_device *pdev,
	char *buf)
{
	struct hisi_fb_data_type *hisifd = NULL;
	ssize_t ret = 0;

	if (NULL == buf) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	hisifd = platform_get_drvdata(pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}


	HISI_FB_DEBUG("fb%d, +.\n", hisifd->index);

	ret = snprintf(buf, PAGE_SIZE, "sharp_NT35523_8p4 8.4' VIDEO TFT\n");

	HISI_FB_DEBUG("fb%d, -.\n", hisifd->index);

	return ret;
}

static ssize_t mipi_sharp_NT35523_8p4_panel_info_show(struct platform_device *pdev, char *buf)
{
	struct hisi_fb_data_type *hisifd = NULL;
	ssize_t ret = 0;

	if (NULL == buf) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	if (NULL == pdev) {
		HISI_FB_ERR("pdev NULL pointer\n");
		return 0;
	};
	hisifd = platform_get_drvdata(pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("hisifd NULL pointer\n");
		return 0;
	}

	HISI_FB_DEBUG("fb%d, +.\n", hisifd->index);
	if (buf) {
		ret = snprintf(buf, PAGE_SIZE, "blmax:%u,blmin:%u,lcdtype:%s\n",
				hisifd->panel_info.bl_max, hisifd->panel_info.bl_min, "LCD");
	}

	HISI_FB_DEBUG("fb%d, -.\n", hisifd->index);

	return ret;
}

static ssize_t mipi_sharp_panel_support_mode_show(struct platform_device *pdev,
	char *buf)
{
	struct hisi_fb_data_type *hisifd = NULL;
	ssize_t ret = 0;

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer!\n");
		return ret;
	}

	hisifd = platform_get_drvdata(pdev);
	if (!hisifd) {
		HISI_FB_ERR("hisifd is null\n");
		return ret;
	}

	HISI_FB_DEBUG("fb%d, +.\n", hisifd->index);

	ret = snprintf(buf, PAGE_SIZE, "%d\n", g_support_mode);

	HISI_FB_DEBUG("fb%d, -.\n", hisifd->index);

	return ret;
}

static ssize_t mipi_sharp_panel_support_mode_store(struct platform_device *pdev,
	const char *buf, size_t count)
{
	int ret = 0;
	unsigned long val = 0;
	int flag = -1;
	struct hisi_fb_data_type *hisifd = NULL;

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer!\n");
		return ret;
	}

	hisifd = platform_get_drvdata(pdev);
	if (!hisifd) {
		HISI_FB_ERR("hisifd is null\n");
		return ret;
	}

	ret = strict_strtoul(buf, 0, &val);
	if (ret)
               return ret;

	HISI_FB_DEBUG("fb%d, +.\n", hisifd->index);

	flag = (int)val;

	g_support_mode = flag;

	HISI_FB_DEBUG("fb%d, -.\n", hisifd->index);

	return count;
}

static ssize_t mipi_sharp_panel_lcd_cabc_mode_show(struct platform_device *pdev,
	char *buf)
{
	struct hisi_fb_data_type *hisifd = NULL;
	ssize_t ret = 0;

	if (NULL == buf) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	hisifd = platform_get_drvdata(pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("NULL Pointer!\n");
		return 0;
	}

	ret = snprintf(buf, PAGE_SIZE, "%d\n", g_cabc_mode);
	return ret;
}

static ssize_t mipi_sharp_panel_lcd_cabc_mode_store(struct platform_device *pdev,
	const char *buf, size_t count)
{
	int ret = 0;
	ssize_t ret_return = 0;
	unsigned long val = 0;
	int flag=-1;
	struct hisi_fb_data_type *hisifd = NULL;
	char __iomem *mipi_dsi0_base = NULL;
	char __iomem *mipi_dsi1_base = NULL;

	if (NULL == pdev) {
		HISI_FB_ERR("NULL Pointer\n");
		return -EINVAL;
	}
	hisifd = platform_get_drvdata(pdev);
	if (NULL == hisifd) {
		HISI_FB_ERR("NULL Pointer\n");
		return -EINVAL;
	}

	HISI_FB_INFO("fb%d, +.\n", hisifd->index);

	if (NULL == hisifd->mipi_dsi0_base) {
		HISI_FB_ERR("NULL Pointer\n");
		return -EINVAL;
	}
	mipi_dsi0_base =hisifd->mipi_dsi0_base;
	mipi_dsi1_base =hisifd->mipi_dsi1_base;

	ret = strict_strtoul(buf, 0, &val);
	if (ret)
		return ret;

	flag=(int)val;
	if (flag == CABC_OFF ){
		g_cabc_mode = 0;
		mipi_dsi_cmds_tx(sp_cabc_off_cmds, ARRAY_SIZE(sp_cabc_off_cmds),mipi_dsi0_base);
		mipi_dsi_cmds_tx(sp_cabc_off_cmds, ARRAY_SIZE(sp_cabc_off_cmds),mipi_dsi1_base);
	}else  if (flag == CABC_UI_MODE) {
		g_cabc_mode = 1;
		mipi_dsi_cmds_tx(sp_cabc_ui_on_cmds, ARRAY_SIZE(sp_cabc_ui_on_cmds),mipi_dsi0_base);
		mipi_dsi_cmds_tx(sp_cabc_ui_on_cmds, ARRAY_SIZE(sp_cabc_ui_on_cmds),mipi_dsi1_base);
	} else if (flag == CABC_STILL_MODE ){
		g_cabc_mode = 2;
		mipi_dsi_cmds_tx(sp_cabc_still_on_cmds, ARRAY_SIZE(sp_cabc_still_on_cmds),mipi_dsi0_base);
		mipi_dsi_cmds_tx(sp_cabc_still_on_cmds, ARRAY_SIZE(sp_cabc_still_on_cmds),mipi_dsi1_base);
	}else if (flag == CABC_MOVING_MODE ){
		g_cabc_mode = 3;
		mipi_dsi_cmds_tx(sp_cabc_moving_on_cmds, ARRAY_SIZE(sp_cabc_moving_on_cmds),mipi_dsi0_base);
		mipi_dsi_cmds_tx(sp_cabc_moving_on_cmds, ARRAY_SIZE(sp_cabc_moving_on_cmds),mipi_dsi1_base);
	}

	HISI_FB_INFO("fb%d, %d -.\n", hisifd->index, g_cabc_mode);

	ret_return = snprintf((char *)buf, PAGE_SIZE, "%d\n", g_cabc_mode);
	return ret_return;
}


/*because of  architecture limitation,  just use this sys node to control acm and gmp */
static ssize_t mipi_sharp_panel_lcd_ic_color_enhancement_mode_show(struct platform_device *pdev,
	char *buf)
{
	struct hisi_fb_data_type *hisifd = NULL;
	ssize_t ret = 0;

	BUG_ON(pdev == NULL);
	hisifd = platform_get_drvdata(pdev);
	BUG_ON(hisifd == NULL);

	HISI_FB_DEBUG("fb%d, +.\n", hisifd->index);



	ret = snprintf(buf, PAGE_SIZE, "%d\n", g_color_enhancement_mode);

	HISI_FB_DEBUG("fb%d, -.\n", hisifd->index);

	return ret;
}

static ssize_t mipi_sharp_panel_lcd_ic_color_enhancement_mode_store(struct platform_device *pdev,
	const char *buf, size_t count)
{
	int ret = 0;
	unsigned long val = 0;
	int flag=-1;
	struct hisi_fb_data_type *hisifd = NULL;
	char __iomem *dpp_base = NULL;
	char __iomem *acm_base = NULL;


	BUG_ON(pdev == NULL);
	hisifd = platform_get_drvdata(pdev);
	BUG_ON(hisifd == NULL);
	dpp_base = hisifd->dss_base + DSS_DPP_OFFSET;
	acm_base = hisifd->dss_base + DSS_DPP_ACM_OFFSET;

	ret = strict_strtoul(buf, 0, &val);
	if (ret)
        return ret;

	HISI_FB_DEBUG("fb%d, +.\n", hisifd->index);

	flag=(int)val;

	HISI_FB_INFO("fb%d, set val = %d", hisifd->index, flag);

	/*this project: 0 means using sRGB, 1 means using color_enhance*/
	if (flag == COLOR_EN_DEFAULT) {
		/*open acm*/
		set_reg(acm_base + ACM_EN, 0x1 | (hisifd->panel_info.acm_valid_num << 4), 32, 0); //open acm
		/*close gmp*/
		g_color_enhancement_mode = COLOR_EN_DEFAULT;
		set_reg(dpp_base + LCP_GMP_BYPASS_EN, 0x1, 1, 0);	//disable gmp
	} else if (flag == COLOR_EN_SRGB) {
		/*close acm*/
		set_reg(acm_base + ACM_EN, 0x0, 1, 0); //close acm
		/*open gmp*/
		g_color_enhancement_mode = COLOR_EN_SRGB;
		set_reg(dpp_base + LCP_GMP_BYPASS_EN, 0x0, 1, 0);	//enable gmp
	} else if (flag == COLOR_EN_CLOSED) {
		/*close acm*/
		set_reg(acm_base + ACM_EN, 0x0, 1, 0); //close acm
		/*close gmp*/
		g_color_enhancement_mode = COLOR_EN_CLOSED;
		set_reg(dpp_base + LCP_GMP_BYPASS_EN, 0x1, 1, 0);	//disable gmp
	} else {
		HISI_FB_DEBUG(" no this color_enhancement mode!\n");
	};

	HISI_FB_DEBUG("fb%d, -.\n", hisifd->index);

	return snprintf((char *)buf, count, "%d\n", g_color_enhancement_mode);
}


static struct hisi_panel_info g_panel_info = {0};
static struct hisi_fb_panel_data g_panel_data = {
	.panel_info = &g_panel_info,
	.set_fastboot = mipi_sharp_NT35523_8p4_panel_set_fastboot,
	.on = mipi_sharp_NT35523_8p4_panel_on,
	.off = mipi_sharp_NT35523_8p4_panel_off,
	.remove = mipi_sharp_NT35523_8p4_panel_remove,
	.set_backlight = mipi_sharp_NT35523_8p4_panel_set_backlight,
	.lcd_model_show = mipi_sharp_NT35523_8p4_panel_model_show,
	.panel_info_show = mipi_sharp_NT35523_8p4_panel_info_show,
	.lcd_support_mode_show = mipi_sharp_panel_support_mode_show,
	.lcd_support_mode_store = mipi_sharp_panel_support_mode_store,
	.lcd_cabc_mode_show = mipi_sharp_panel_lcd_cabc_mode_show,
	.lcd_cabc_mode_store = mipi_sharp_panel_lcd_cabc_mode_store,
	.lcd_ic_color_enhancement_mode_store = mipi_sharp_panel_lcd_ic_color_enhancement_mode_store,
	.lcd_ic_color_enhancement_mode_show = mipi_sharp_panel_lcd_ic_color_enhancement_mode_show,
};
/*******************************************************************************
**
*/
static int mipi_sharp_NT35523_8p4_probe(struct platform_device *pdev)
{
	int ret = 0;
	struct hisi_panel_info *pinfo = NULL;
	struct device_node *np = NULL;
	uint32_t bl_type = 0;
	uint32_t lcd_display_type = 0;
	int support_mode = 0;
	struct device *dev = &pdev->dev;

	m_pdev = pdev;

	np = of_find_compatible_node(NULL, NULL, DTS_COMP_SHARP_NT35523_8P4);
	if (!np) {
		HISI_FB_ERR("NOT FOUND device node %s!\n", DTS_COMP_SHARP_NT35523_8P4);
		goto err_return;
	}

	ret = of_property_read_u32(np, LCD_DISPLAY_TYPE_NAME, &lcd_display_type);
	if (ret) {
		HISI_FB_ERR("get lcd_display_type failed!\n");
		lcd_display_type = PANEL_DUAL_MIPI_CMD;
	}

	lcd_display_type = PANEL_DUAL_MIPI_VIDEO;

	ret = of_property_read_u32(np, LCD_BL_TYPE_NAME, &bl_type);
	if (ret) {
		HISI_FB_ERR("get lcd_bl_type failed!\n");
		bl_type = BL_SET_BY_MIPI;
	}
	HISI_FB_INFO("bl_type=0x%x.", bl_type);

	if (hisi_fb_device_probe_defer(lcd_display_type, bl_type)) {
		goto err_probe_defer;
	}

	HISI_FB_INFO("%s\n", DTS_COMP_SHARP_NT35523_8P4);

	//gpio_lcd_1v8_enable, gpio_lcd_reset, gpio_lcd_vsp_enable, gpio_lcd_vsp_enable, gpio_lcd_bl_enable
	//gpios = <&gpio1 4 0>, <&gpio2 4 0>,  <&gpio3 7 0>, <&gpio4 0 0>, <&gpio6 4 0>;
	//gpio_1_4   12
	gpio_lcd_vcc1v8_enable = of_get_named_gpio(np, "gpios", 0);

	//gpio_2_4   20
	gpio_lcd_reset = of_get_named_gpio(np, "gpios", 1);

	//gpio_3_7   31
	gpio_lcd_p5v5_enable = of_get_named_gpio(np, "gpios", 2);

	//gpio_4_0   32
	gpio_lcd_n5v5_enable = of_get_named_gpio(np, "gpios", 3);

	//gpio_6_4   52
	gpio_lcd_bl_enable = of_get_named_gpio(np, "gpios", 4);
	//gpio_1_1   9
	gpio_lcd_g_bl_enable = of_get_named_gpio(np, "gpios", 5);

	HISI_FB_INFO("gpio_lcd_vcc1v8_enable = %d, gpio_lcd_reset = %d, gpio_lcd_p5v5_enable = %d, gpio_lcd_n5v5_enable = %d, gpio_lcd_bl_enable = %d, gpio_lcd_g_bl_enable = %d\n", \
			gpio_lcd_vcc1v8_enable, gpio_lcd_reset, gpio_lcd_p5v5_enable, gpio_lcd_n5v5_enable, gpio_lcd_bl_enable, gpio_lcd_g_bl_enable);

	pdev->id = 1;
	/* init panel info */
	pinfo = g_panel_data.panel_info;
	memset(pinfo, 0, sizeof(struct hisi_panel_info));
	pinfo->xres = 1600;
	pinfo->yres = 2560;
	pinfo->width = 113;
	pinfo->height = 181;
	pinfo->orientation = LCD_PORTRAIT;
	pinfo->bpp = LCD_RGB888;
	pinfo->bgr_fmt = LCD_RGB;
	pinfo->bl_set_type = bl_type; //BL_SET_BY_MIPI;
	if (pinfo->bl_set_type == BL_SET_BY_BLPWM)
		pinfo->blpwm_input_ena = 1;


#ifdef CONFIG_BACKLIGHT_10000
	pinfo->bl_min = 100;
	pinfo->bl_max = 9960;
	pinfo->bl_default = 4000;
	pinfo->blpwm_precision_type = BLPWM_PRECISION_10000_TYPE;
	pinfo->blpwm_out_div_value = 7;//(18K/(7+1) = 2.25K)
#else
	pinfo->bl_min = 4;
	pinfo->bl_max = 255;
	pinfo->bl_default = 102;
#endif

	pinfo->vsync_ctrl_type = 0;// (VSYNC_CTRL_ISR_OFF | VSYNC_CTRL_MIPI_ULPS);

	pinfo->type = lcd_display_type;
	pinfo->frc_enable = 0;
	pinfo->esd_enable = 0;
	pinfo->dirty_region_updt_support = 0;

	/* prefix ce & sharpness */
	pinfo->prefix_ce_support = 0;
	pinfo->prefix_sharpness1D_support = 0;
	pinfo->prefix_sharpness2D_support = 0;

	pinfo->color_temperature_support = 1;
	pinfo->comform_mode_support = 1;

	support_mode = support_mode | LED_RG_COLOR_TEMP_MODE;
	g_led_rg_para1 = 9;
	g_led_rg_para2 = 30473;


	pinfo->lcd_uninit_step_support = 1;
	pinfo->mipi.max_tx_esc_clk = 10 * 1000000;

	//sbl
	pinfo->sbl_support = 1;
	pinfo->smart_bl.strength_limit = 128;
	pinfo->smart_bl.calibration_a = 60;
	pinfo->smart_bl.calibration_b = 95;
	pinfo->smart_bl.calibration_c = 5;
	pinfo->smart_bl.calibration_d = 1;
	pinfo->smart_bl.t_filter_control = 5;
	pinfo->smart_bl.backlight_min = 480;
	pinfo->smart_bl.backlight_max = 4096;
	pinfo->smart_bl.backlight_scale = 0xff;
	pinfo->smart_bl.ambient_light_min = 14;
	pinfo->smart_bl.filter_a = 1738;
	pinfo->smart_bl.filter_b = 6;
	pinfo->smart_bl.logo_left = 0;
	pinfo->smart_bl.logo_top = 0;
	pinfo->smart_bl.variance_intensity_space = 145;
	pinfo->smart_bl.slope_max = 54;
	pinfo->smart_bl.slope_min = 160;

	//ACM
	pinfo->acm_support = 1;
	if (pinfo->acm_support == 1) {
		pinfo->acm_lut_hue_table = acm_lut_hue_table;
		pinfo->acm_lut_hue_table_len = ARRAY_SIZE(acm_lut_hue_table);
		pinfo->acm_lut_sata_table = acm_lut_sata_table;
		pinfo->acm_lut_sata_table_len = ARRAY_SIZE(acm_lut_sata_table);
		pinfo->acm_lut_satr_table = acm_lut_satr_table;
		pinfo->acm_lut_satr_table_len = ARRAY_SIZE(acm_lut_satr_table);
		pinfo->acm_valid_num = 7;
		pinfo->r0_hh = 0x7f;
		pinfo->r0_lh = 0x0;
		pinfo->r1_hh = 0xff;
		pinfo->r1_lh = 0x80;
		pinfo->r2_hh = 0x17f;
		pinfo->r2_lh = 0x100;
		pinfo->r3_hh = 0x1ff;
		pinfo->r3_lh = 0x180;
		pinfo->r4_hh = 0x27f;
		pinfo->r4_lh = 0x200;
		pinfo->r5_hh = 0x2ff;
		pinfo->r5_lh = 0x280;
		pinfo->r6_hh = 0x37f;
		pinfo->r6_lh = 0x300;

		//ACM_CE
		pinfo->acm_ce_support = 1;
	}

	//Gama LCP
	pinfo->gamma_support = 1;
	if (pinfo->gamma_support == 1) {
		pinfo->gamma_lut_table_R = gamma_lut_table_R;
		pinfo->gamma_lut_table_G = gamma_lut_table_G;
		pinfo->gamma_lut_table_B = gamma_lut_table_B;
		pinfo->gamma_lut_table_len = ARRAY_SIZE(gamma_lut_table_R);
		pinfo->igm_lut_table_R = igm_lut_table_R;
		pinfo->igm_lut_table_G = igm_lut_table_G;
		pinfo->igm_lut_table_B = igm_lut_table_B;
		pinfo->igm_lut_table_len = ARRAY_SIZE(igm_lut_table_R);

		pinfo->gmp_support = 1;
		pinfo->gmp_lut_table_low32bit = &lcp_gmp_lut_table_low32bit[0][0][0];
		pinfo->gmp_lut_table_high4bit = &lcp_gmp_lut_table_high4bit[0][0][0];
		pinfo->gmp_lut_table_len = ARRAY_SIZE(lcp_gmp_lut_table_low32bit);

		pinfo->xcc_support = 1;
		pinfo->xcc_table = xcc_table;
		pinfo->xcc_table_len = ARRAY_SIZE(xcc_table);
	}

	pinfo->ifbc_type = IFBC_TYPE_NONE;

	//59.0
	pinfo->ldi.h_back_porch = 172;
	pinfo->ldi.h_front_porch = 236;
	pinfo->ldi.h_pulse_width = 8;
	pinfo->ldi.v_back_porch = 60;
	pinfo->ldi.v_front_porch =14;
	pinfo->ldi.v_pulse_width = 2;

	pinfo->mipi.lane_nums = DSI_4_LANES;
	pinfo->mipi.color_mode = DSI_24BITS_1;
	pinfo->mipi.vc = 0;
	pinfo->mipi.dsi_bit_clk = 493;
	pinfo->dsi_bit_clk_upt_support = 0;
	pinfo->mipi.dsi_bit_clk_upt = pinfo->mipi.dsi_bit_clk;
	pinfo->mipi.dsi_bit_clk_val1 = 471;
	pinfo->mipi.dsi_bit_clk_val2 = 475;
	pinfo->mipi.dsi_bit_clk_val3 = 480;
	pinfo->mipi.dsi_bit_clk_val4 = 493;
	pinfo->mipi.dsi_bit_clk_val5 = 500;

	pinfo->mipi.non_continue_en = 0;
	pinfo->pxl_clk_rate = 1568*2*100000UL;
	pinfo->pxl_clk_rate_adjust = 320 * 1000000UL;

	pinfo->mipi.burst_mode = DSI_BURST_SYNC_PULSES_1;

	//is dual_mipi or single_mipi
	if (is_dual_mipi_panel_ext(pinfo))  {
		pinfo->ifbc_type = IFBC_TYPE_NONE;
		pinfo->pxl_clk_rate_div = 2;
		HISI_FB_INFO("PANEL_DUAL_MIPI: 8 lane \n");
	} else {
		//pinfo->ifbc_type = IFBC_TYPE_NONE;
		pinfo->pxl_clk_rate_div = 1;
		HISI_FB_INFO("PANEL_SINGLE_MIPI: 4 lane \n");
	}

	if (pinfo->pxl_clk_rate_div > 1) {
		pinfo->ldi.h_back_porch /= pinfo->pxl_clk_rate_div;
		pinfo->ldi.h_front_porch /= pinfo->pxl_clk_rate_div;
		pinfo->ldi.h_pulse_width /= pinfo->pxl_clk_rate_div;
	}

	// lcd vcc init
	ret = vcc_cmds_tx(pdev, lcd_vcc_init_cmds,
		ARRAY_SIZE(lcd_vcc_init_cmds));
	vcc_cmds_tx(pdev, lcd_vcc_enable_cmds,
		ARRAY_SIZE(lcd_vcc_enable_cmds));
	if(runmode_is_factory()) {
		HISI_FB_INFO("Factory mode, disable features: dirty update etc.\n");
		pinfo->dirty_region_updt_support = 0;
		pinfo->sbl_support = 0;
		pinfo->acm_support = 0;
		pinfo->acm_ce_support = 0;
		pinfo->esd_enable = 0;
		pinfo->blpwm_input_ena = 0;
		pinfo->blpwm_precision_type = BLPWM_PRECISION_DEFAULT_TYPE;
		pinfo->bl_min = 4;
		pinfo->bl_max = 255;
		pinfo->comform_mode_support = 0;
	}

	if(pinfo->comform_mode_support == 1){
		support_mode = (support_mode | 1);
	}
	/*use  lcd_ic_color_enhancement_mode node, not use lcd_acm_state node*/
	support_mode = (support_mode | 4);
	g_support_mode =   support_mode;

	// lcd pinctrl init
	ret = pinctrl_cmds_tx(pdev, lcd_pinctrl_init_cmds,
		ARRAY_SIZE(lcd_pinctrl_init_cmds));
	if (ret != 0) {
		HISI_FB_ERR("Init pinctrl failed, defer\n");
		goto err_return;
	}

	// alloc panel device data
	ret = platform_device_add_data(pdev, &g_panel_data,
		sizeof(struct hisi_fb_panel_data));
	if (ret) {
		HISI_FB_ERR("platform_device_add_data failed!\n");
		goto err_device_put;
	}

	hisi_fb_add_device(pdev);
	add_sysfs_interfaces(dev);

	HISI_FB_DEBUG("-.\n");

	return 0;

err_device_put:
	platform_device_put(pdev);
err_return:
	return ret;
err_probe_defer:
	return -EPROBE_DEFER;

	return ret;
}


static const struct of_device_id hisi_panel_match_table[] = {
	{
		.compatible = DTS_COMP_SHARP_NT35523_8P4,
		.data = NULL,
	},
	{},
};
MODULE_DEVICE_TABLE(of, hisi_panel_match_table);

static struct platform_driver this_driver = {
	.probe = mipi_sharp_NT35523_8p4_probe,
	.remove = NULL,
	.suspend = NULL,
	.resume = NULL,
	.shutdown = NULL,
	.driver = {
		.name = "mipi_sharp_NT35523_8p4",
		.owner = THIS_MODULE,
		.of_match_table = of_match_ptr(hisi_panel_match_table),
	},
};




static int __init mipi_sharp_NT35523_8p4_panel_init(void)
{
	int ret = 0;

	ret = platform_driver_register(&this_driver);
	if (ret) {
		HISI_FB_ERR("platform_driver_register failed, error=%d!\n", ret);
		return ret;
	}

	return ret;
}

module_init(mipi_sharp_NT35523_8p4_panel_init);



